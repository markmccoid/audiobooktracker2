{
  "version": 3,
  "sources": ["<stdin>", "../../app/entry.server.tsx", "../../app/root.tsx", "../../app/routes/audiobooks.tsx", "../../app/components/audiobooks/HeaderNav.tsx", "../../app/routes/audiobooks/$bookId.tsx", "../../app/routes/audiobooks/$bookId/edit.subEdit.tsx", "../../app/routes/audiobooks/$bookId/index.tsx", "../../app/routes/audiobooks/$bookId/edit.tsx", "../../app/routes/audiobooks/index.tsx", "../../app/data/audiobookLoader.server.ts", "../../app/data/audiobookGet.server.ts", "../../app/data/prisma.server.ts", "../../app/components/audiobooks/BookCard.tsx", "../../app/components/audiobooks/BookImage.tsx", "../../app/components/audiobooks/BookFavorite.tsx", "../../app/components/audiobooks/BookListenedTo.tsx", "../../app/hooks/useCopyToClip.ts", "../../app/components/audiobooks/BookRatingSet.tsx", "../../app/components/searchBar/SearchBarForm.tsx", "../../app/components/SearchInputs/SearchInput.tsx", "../../app/components/input/ThreeOptionState.tsx", "../../app/data/session.sever.ts", "../../app/components/audiobooks/BookPagination.tsx", "../../app/utils/helpers.ts", "../../app/utils/pagination.ts", "../../app/data/bookDBQueries.ts", "../../app/routes/logout.ts", "../../app/routes/__auth.tsx", "../../app/components/Auth/AuthHeader.tsx", "../../app/routes/__auth/signup.tsx", "../../app/data/auth.server.ts", "../../app/utils/validation.ts", "../../app/components/input/InputField.tsx", "../../app/routes/__auth/index.tsx", "../../app/routes/__auth/login.tsx", "../../app/routes/init.ts", "server-assets-manifest:@remix-run/dev/assets-manifest", "server-entry-module:@remix-run/dev/server-build"],
  "sourcesContent": ["export * from \"@remix-run/dev/server-build\";", "import type { EntryContext } from \"@remix-run/node\";\nimport { RemixServer } from \"@remix-run/react\";\nimport { renderToString } from \"react-dom/server\";\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  const markup = renderToString(\n    <RemixServer context={remixContext} url={request.url} />\n  );\n\n  responseHeaders.set(\"Content-Type\", \"text/html\");\n\n  return new Response(\"<!DOCTYPE html>\" + markup, {\n    headers: responseHeaders,\n    status: responseStatusCode,\n  });\n}\n", "import {\n  ErrorBoundaryComponent,\n  LinksFunction,\n  LoaderFunction,\n  MetaFunction,\n  redirect,\n} from \"@remix-run/node\";\n\nimport { json } from \"@remix-run/node\";\nimport {\n  CatchBoundaryComponent,\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n  useCatch,\n  useLoaderData,\n} from \"@remix-run/react\";\nimport { getAllAudiobooks, initialBookLoad } from \"./data/audiobookGet.server\";\nimport styles from \"./styles/app.css\";\nimport ratingStyles from \"@smastrom/react-rating/style.css\";\n\nexport const meta: MetaFunction = () => ({\n  charset: \"utf-8\",\n  title: \"New Remix App\",\n  viewport: \"width=device-width,initial-scale=1\",\n});\n\nexport default function App() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        <Outlet />\n        <ScrollRestoration />\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n\n// type LoaderData = {\n//   books: Awaited<ReturnType<typeof getAllAudiobooks>>;\n// };\n\nexport const loader: LoaderFunction = () => {\n  // initialBookLoad();\n  console.log(\"Root Loader Run\");\n\n  return null;\n};\n\nexport const links: LinksFunction = () => {\n  return [\n    {\n      rel: \"stylesheet\",\n      href: styles,\n    },\n    {\n      rel: \"stylesheet\",\n      href: ratingStyles,\n    },\n  ];\n};\n\nexport const ErrorBoundary: ErrorBoundaryComponent = ({ error }) => {\n  console.log(\"Error Boundary\", error);\n  return (\n    <main>\n      <div>\n        <h1>Uncaught Error Boundary</h1>\n        <h2>{error.message}</h2>\n      </div>\n    </main>\n  );\n};\n\nexport const CatchBoundary: CatchBoundaryComponent = () => {\n  const caughtResponse = useCatch();\n\n  console.log(\"catchboundary\", caughtResponse);\n  return (\n    <main>\n      <div>\n        <h1>Uncaught Error Catch</h1>\n        <h2>{caughtResponse?.statusText}</h2>\n        <h2>{caughtResponse.data?.message}</h2>\n      </div>\n    </main>\n  );\n};\n", "import { LoaderFunction } from \"@remix-run/node\";\r\nimport { Link, Outlet } from \"@remix-run/react\";\r\nimport HeaderNav from \"~/components/audiobooks/HeaderNav\";\r\nimport { getAllAudiobooks } from \"~/data/audiobookGet.server\";\r\nimport { requireUserSession } from \"~/data/session.sever\";\r\n\r\n//----------------------------------\r\n//-- Component\r\n//----------------------------------\r\nexport default function Audiobooks() {\r\n  return (\r\n    <div>\r\n      <HeaderNav />\r\n      <Outlet />\r\n    </div>\r\n  );\r\n}\r\n", "import { Link } from \"@remix-run/react\";\r\nfunction HeaderNav() {\r\n  return (\r\n    // <nav className=\"text-xl border-b border-b-cerulean-blue-300 pt-5\">\r\n    <nav className=\"flex p-4 items-center justify-center bg-cerulean-blue-600\">\r\n      <h1 className=\"text-3xl text-gray-300 font-bold flex flex-grow justify-end \">\r\n        <Link to=\"/audiobooks\">AudioBook Tracker</Link>\r\n      </h1>\r\n      <div className=\"flex flex-grow justify-end\">\r\n        <form action=\"/logout\" method=\"post\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"bg-cerulean-blue-500 text-white text-xl px-4 py-1 border border-cerulean-blue-900 rounded-lg\r\n            hover:bg-cerulean-blue-400 transition-all\"\r\n          >\r\n            Log Out\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </nav>\r\n    // </nav>\r\n  );\r\n}\r\n\r\nexport default HeaderNav;\r\n", "import { Outlet, useLoaderData, useParams, Link } from \"@remix-run/react\";\r\nimport { getBookById } from \"~/data/audiobookGet.server\";\r\n\r\nexport default function $bookid() {\r\n  const bookId = useLoaderData();\r\n  console.log(\"bookData - $\", bookId);\r\n  const params = useParams();\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"text-xl\">Book Id Dynamic route</h1>\r\n      <div>{params.bookid}</div>\r\n      <Link to=\"../\">Go Back</Link>\r\n      <Outlet />\r\n    </>\r\n  );\r\n}\r\n\r\nexport function loader({ params }) {\r\n  // Need a query that will return a book based on the bookId passed in params\r\n  console.log(\"params\", params);\r\n  return params.bookId;\r\n}\r\n", "function SubEdit() {\r\n  return <div>IN Sub EDIT</div>;\r\n}\r\n\r\nexport default SubEdit;\r\n", "import { Outlet } from \"@remix-run/react\";\r\n\r\nfunction BookId() {\r\n  return (\r\n    <div>\r\n      In OUTLET 1\r\n      <Outlet />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookId;\r\n", "import { Outlet } from \"@remix-run/react\";\r\n\r\nfunction Edit() {\r\n  return (\r\n    <div>\r\n      Editing\r\n      <Outlet />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Edit;\r\n", "import { useLoaderData, useNavigate } from \"@remix-run/react\";\r\nimport { getCategories } from \"~/data/audiobookGet.server\";\r\nimport {\r\n  LoaderFunction,\r\n  json,\r\n  ActionFunction,\r\n  redirect,\r\n} from \"@remix-run/node\";\r\nimport { Book, RatingSort } from \"~/types/bookTypes\";\r\n\r\nimport BookCard from \"~/components/audiobooks/BookCard\";\r\nimport SearchBarForm, {\r\n  ThreeOptionState,\r\n} from \"~/components/searchBar/SearchBarForm\";\r\nimport { getUserFromSession } from \"~/data/session.sever\";\r\n\r\nimport BookPagination from \"~/components/audiobooks/BookPagination\";\r\nimport { filterBooksDB, updateUserBooksDB } from \"~/data/bookDBQueries\";\r\nimport { SortDirections, SortFields } from \"../../types/bookTypes\";\r\nimport { zfd } from \"zod-form-data\";\r\nimport { z } from \"zod\";\r\nimport { isEmpty, parseBooleanFromString } from \"~/utils/helpers\";\r\n\r\nconst loaderSchema = z.object({\r\n  author: z.string(),\r\n  title: z.string(),\r\n  primaryCategory: z.string(),\r\n  secondaryCategory: z.string(),\r\n  favoriteFlag: z.string(),\r\n  listenedToFlag: z.string(),\r\n  offest: z.number(),\r\n});\r\n//--------------------------------------------------\r\n//-- LOADER\r\n//--------------------------------------------------\r\nexport const loader: LoaderFunction = async ({ request }) => {\r\n  const categories = getCategories();\r\n  const userId = await getUserFromSession(request);\r\n  /* eslint-disable */;(oo_oo(),console.log(\"in Loader Function\", userId, `afe8aede_0`));\r\n\r\n  const url = new URL(request.url);\r\n\r\n  const favoriteState = url.searchParams.get(\"favorited\");\r\n  const listenedToState = url.searchParams.get(\"listenedToState\");\r\n\r\n  const sortDirection = (\r\n    url.searchParams.get(\"sortdirection\") ? \"desc\" : \"asc\"\r\n  ) as SortDirections;\r\n\r\n  const filter = {\r\n    title: url.searchParams.get(\"title\") as string | undefined,\r\n    author: url.searchParams.get(\"author\") as string | undefined,\r\n    primaryCategory: url.searchParams.get(\"primarycat\") as string | undefined,\r\n    secondaryCategory: url.searchParams.get(\"secondarycat\") as\r\n      | string\r\n      | undefined,\r\n    source: url.searchParams.get(\"source\") as string | undefined,\r\n    favoriteFlag: favoriteState as ThreeOptionState,\r\n    listenedToFlag: listenedToState as ThreeOptionState,\r\n  };\r\n  const pagination = {\r\n    offset: parseInt(url.searchParams.get(\"offset\")),\r\n  };\r\n  const sort = {\r\n    sortField: url.searchParams.get(\"sortfield\") as SortFields,\r\n    sortDirection,\r\n    ratingSortDirection: url.searchParams.get(\"ratingsort\") as RatingSort,\r\n  };\r\n\r\n  const { slicedBooks, paginationOut } = await filterBooksDB(\r\n    userId,\r\n    filter,\r\n    sort,\r\n    pagination\r\n  );\r\n  // build the Next and Prev URLs to send to a Link component\r\n  // NOTE: we are setting the searchParams only so that we extract the new\r\n  //    path with the new offest in the url.search\r\n  url.searchParams.set(\"offset\", paginationOut.nextOffset.toString());\r\n  const nextURL = paginationOut.nextAvailable\r\n    ? `${url.pathname}${url.search}`\r\n    : undefined;\r\n  url.searchParams.set(\"offset\", paginationOut.prevOffset.toString());\r\n  const prevURL = paginationOut.prevAvailable\r\n    ? `${url.pathname}${url.search}`\r\n    : undefined;\r\n  return {\r\n    categories,\r\n    books: slicedBooks,\r\n    nextURL,\r\n    prevURL,\r\n    currentPage: paginationOut.currentPage,\r\n    totalPages: paginationOut.totalPages,\r\n    totalBooks: paginationOut.totalBooks,\r\n  };\r\n};\r\n\r\n//--------------------------------------------------\r\n//-- ACTION\r\n//--------------------------------------------------\r\nexport const action: ActionFunction = async ({ request }) => {\r\n  const userId = await getUserFromSession(request);\r\n  const formData = await request.formData();\r\n  const bookId = formData.get(\"bookid\") as string;\r\n\r\n  if (!bookId) {\r\n    throw new Error(\"Null book Id passed\");\r\n  }\r\n\r\n  const { _action, ...values } = Object.fromEntries(formData);\r\n\r\n  /* eslint-disable */;(oo_oo(),console.log(\"Values in Action\", _action, values, `afe8aede_1`));\r\n  if (_action === \"toggle-favorite\") {\r\n    // console.log(\"Values in Action\", values);\r\n    // console.log(\"in Action\", bookId, values.favorite);\r\n    // we are expecting old value and will toggle to new\r\n    return await updateUserBooksDB(userId, bookId, {\r\n      favorite: values.favorite === \"true\" ? false : true,\r\n    });\r\n  }\r\n\r\n  if (_action === \"toggle-listenedto\") {\r\n    // console.log(\"Values in Action\", values);\r\n    // console.log(\"in Action\", bookId, values.listenedto);\r\n    // we are expecting old value and will toggle to new\r\n    return await updateUserBooksDB(userId, bookId, {\r\n      listenedTo: values.listenedto === \"true\" ? false : true,\r\n    });\r\n  }\r\n  if (_action === \"rating\") {\r\n    return await updateUserBooksDB(userId, bookId, {\r\n      rating: +values?.rating,\r\n    });\r\n  }\r\n  return null;\r\n};\r\n\r\ntype LoaderData = {\r\n  categories: Awaited<ReturnType<typeof getCategories>>;\r\n  books: Awaited<Book[]>;\r\n  nextURL: Awaited<string>;\r\n  prevURL: Awaited<string>;\r\n  totalPages: Awaited<number>;\r\n  currentPage: Awaited<number>;\r\n  totalBooks: Awaited<number>;\r\n};\r\n\r\n//--------------------------------------------------\r\n//-- COMPONENT\r\n//--------------------------------------------------\r\nexport default function Index() {\r\n  // const [params] = useSearchParams();\r\n  // const transition = useTransition();\r\n  const navigate = useNavigate();\r\n  const {\r\n    categories,\r\n    books,\r\n    nextURL,\r\n    prevURL,\r\n    totalPages,\r\n    currentPage,\r\n    totalBooks,\r\n  } = useLoaderData() as LoaderData;\r\n  // const categoriesProp = useMemo<Categories>(() => categories, []);\r\n  // console.log(\"book index\", books.length);\r\n\r\n  // return (\r\n  //   <div>\r\n  //     <SearchBarForm\r\n  //       categories={{\r\n  //         primaryCategories: [\"Fiction\", \"Non Fiction\"],\r\n  //         secondaryCategories: [\"Second\"],\r\n  //         categoryMap: { Fiction: [\"Second\"], [\"Non Fiction\"]: [] },\r\n  //       }}\r\n  //       totalBooks={books.length}\r\n  //     />\r\n  //     <div className=\"flex flex-wrap m-2 justify-center border border-red-900 \">\r\n  //       {books?.map((book) => (\r\n  //         <BookCard key={book.id} book={book} />\r\n  //       ))}\r\n  //     </div>\r\n  //   </div>\r\n  // );\r\n  return (\r\n    <div className=\"flex flex-col\">\r\n      {/* <SearchBar bookLimit={bookLimit} setBookLimit={setBookLimit} /> */}\r\n      <SearchBarForm totalBooks={totalBooks} />\r\n\r\n      <div className=\"flex justify-center mr-14\">\r\n        <BookPagination\r\n          nextURL={nextURL}\r\n          prevURL={prevURL}\r\n          totalPages={totalPages}\r\n          currentPage={currentPage}\r\n        />\r\n      </div>\r\n      <div className=\"flex flex-wrap m-2 justify-center border border-red-900 \">\r\n        {books?.map((book) => (\r\n          <BookCard key={book.id} book={book} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// export const loader: LoaderFunction = async () => {\r\n//   const books = await getAllAudiobooks();\r\n//   return json({ books });\r\n// };\r\n/* eslint-disable */;function oo_oo(){try{(0,eval)(\"/* https://github.com/wallabyjs/console-ninja#how-does-it-work */'use strict';function _0x4b93(){var _0x278318=['_hasSymbolPropertyOnItsPath','_replacedLog','589230XryZwa','_addObjectProperty','substr','_getOwnPropertyNames','capped','props','_ws','method','_capIfString','_isPrimitiveWrapperType','autoExpandPreviousObjects','autoExpandPropertyCount','_objectToString','path','_allowedToSend','189668fuWQyR','[object\\\\x20Map]','elements','join','_propertyAccessor','WebSocket','_quotedRegExp','message','ws/index.js','_setNodeExpandableState','rootExpression','unref','symbol','1798119pETEVD','_setNodeQueryPath','Map','Error','_regExpToString','match','_connectToHost','process','root_exp','_isPrimitiveType','','positiveInfinity','failed\\\\x20to\\\\x20send\\\\x20logs,\\\\x20restarting\\\\x20the\\\\x20process\\\\x20may\\\\x20help','count','strLength','serialize','next.js','_isMap','perf_hooks','722967NqSGqK','5tBnkVm','function','_p_length','nodeModules','split','_p_','parent','onopen','type','pop','_Symbol','64160oWamGY','[object\\\\x20Date]','NEGATIVE_INFINITY','_p_name','location','date','3irVzGi','index','[object\\\\x20Array]','pathToFileURL','number','_socket','\\\\x20browser','hits','_setNodeId','getOwnPropertySymbols','concat','sortProps','autoExpand','string','send','root_exp_id','negativeInfinity','map','setter','getWebSocketClass','onerror','now','_setNodePermissions','cappedElements','reload','_connected','unknown','depth','_setNodeExpressionPath','__es'+'Module','_undefined','test','valueOf','logger\\\\x20failed\\\\x20to\\\\x20connect\\\\x20to\\\\x20host','_allowedToConnectOnSend','1776800cVjrRI','autoExpandLimit','_cleanNode','_blacklistedProperty','constructor','getter','_connecting','_property','\\\\x20server','value','disabledLog','_HTMLAllCollection','noFunctions','_isNegativeZero','allStrLength','reduceLimits','level','Number','onmessage','onclose','null','_setNodeLabel','expressionsToEvaluate','object','data','create','127.0.0.1','_addFunctionsNode','length',[\\\"localhost\\\",\\\"127.0.0.1\\\",\\\"example.cypress.io\\\",\\\"MarkHomePC\\\",\\\"192.168.1.84\\\"],'host','totalStrLength','349162yqDAFA','cappedProps','_getOwnPropertySymbols','bind','resolveGetters','_numberRegExp','unshift','global','isExpressionToEvaluate','indexOf','argumentResolutionError','node','get','_isSet','port','enumerable','warn','_additionalMetadata','_WebSocketClass','logger\\\\x20websocket\\\\x20error','_attemptToReconnect','funcName','getPrototypeOf','ws://','set','_reconnectTimeout','prototype','catch','_hasMapOnItsPath','_addProperty','name','remix','failed\\\\x20to\\\\x20send\\\\x20logs,\\\\x20refreshing\\\\x20the\\\\x20page\\\\x20may\\\\x20help','stringify','hasOwnProperty','console','Symbol','time','forEach','1675655994348','Boolean','failed\\\\x20to\\\\x20find\\\\x20WebSocket','getOwnPropertyDescriptor','default','POSITIVE_INFINITY','getOwnPropertyNames','includes','toLowerCase','HTMLAllCollection','replace','current','failed\\\\x20to\\\\x20connect\\\\x20to\\\\x20host:\\\\x20','_addLoadNode','_type','_console_ninja_session','_treeNodePropertiesBeforeFullValue','bigint','_sortProps','hostname','_inBrowser','call','toString','url','_keyStrRegExp','Set','...','_processTreeNodeResult','error','[object\\\\x20Set]','_propertyName','log','autoExpandMaxDepth','versions','_consoleNinjaAllowedToStart','undefined','_treeNodePropertiesAfterFullValue','55886','array','push','_dateToString','isArray'];_0x4b93=function(){return _0x278318;};return _0x4b93();}var _0xac630d=_0x4baa;(function(_0x53f46c,_0x37051e){var _0x2b1e38=_0x4baa,_0x39f8bf=_0x53f46c();while(!![]){try{var _0x59c843=parseInt(_0x2b1e38(0x239))/0x1+-parseInt(_0x2b1e38(0x282))/0x2*(-parseInt(_0x2b1e38(0x23f))/0x3)+-parseInt(_0x2b1e38(0x20d))/0x4*(parseInt(_0x2b1e38(0x22e))/0x5)+-parseInt(_0x2b1e38(0x1fe))/0x6+parseInt(_0x2b1e38(0x22d))/0x7+-parseInt(_0x2b1e38(0x262))/0x8+parseInt(_0x2b1e38(0x21a))/0x9;if(_0x59c843===_0x37051e)break;else _0x39f8bf['push'](_0x39f8bf['shift']());}catch(_0x55f3d8){_0x39f8bf['push'](_0x39f8bf['shift']());}}}(_0x4b93,0x2a80b));function _0x4baa(_0x43adf4,_0x2ed5ea){var _0x4b93c6=_0x4b93();return _0x4baa=function(_0x4baa5c,_0x4a40b3){_0x4baa5c=_0x4baa5c-0x1c1;var _0x770801=_0x4b93c6[_0x4baa5c];return _0x770801;},_0x4baa(_0x43adf4,_0x2ed5ea);}var ne=Object[_0xac630d(0x27b)],Y=Object['defineProperty'],ie=Object[_0xac630d(0x1d5)],ae=Object['getOwnPropertyNames'],se=Object[_0xac630d(0x1c1)],oe=Object['prototype'][_0xac630d(0x1cd)],de=(_0x325e76,_0x24306e,_0x1db057,_0x7989e0)=>{var _0x1ac885=_0xac630d;if(_0x24306e&&typeof _0x24306e=='object'||typeof _0x24306e=='function'){for(let _0xde8539 of ae(_0x24306e))!oe[_0x1ac885(0x1e7)](_0x325e76,_0xde8539)&&_0xde8539!==_0x1db057&&Y(_0x325e76,_0xde8539,{'get':()=>_0x24306e[_0xde8539],'enumerable':!(_0x7989e0=ie(_0x24306e,_0xde8539))||_0x7989e0[_0x1ac885(0x291)]});}return _0x325e76;},Q=(_0x2b667b,_0x213ed5,_0x12043a)=>(_0x12043a=_0x2b667b!=null?ne(se(_0x2b667b)):{},de(_0x213ed5||!_0x2b667b||!_0x2b667b[_0xac630d(0x25c)]?Y(_0x12043a,'default',{'value':_0x2b667b,'enumerable':!0x0}):_0x12043a,_0x2b667b)),$=class{constructor(_0x49ad6d,_0x52e5e5,_0x5c0afc,_0x5c9e14){var _0x388dec=_0xac630d;this[_0x388dec(0x289)]=_0x49ad6d,this[_0x388dec(0x280)]=_0x52e5e5,this['port']=_0x5c0afc,this['nodeModules']=_0x5c9e14,this[_0x388dec(0x20c)]=!0x0,this[_0x388dec(0x261)]=!0x0,this[_0x388dec(0x258)]=!0x1,this[_0x388dec(0x268)]=!0x1,this[_0x388dec(0x1e6)]=!!this['global'][_0x388dec(0x212)],this[_0x388dec(0x294)]=null,this['_sendErrorMessage']=this[_0x388dec(0x1e6)]?_0x388dec(0x1cb):_0x388dec(0x226);}async[_0xac630d(0x252)](){var _0x248518=_0xac630d;if(this[_0x248518(0x294)])return this['_WebSocketClass'];let _0x1e48da;if(this['_inBrowser'])_0x1e48da=this[_0x248518(0x289)][_0x248518(0x212)];else try{_0x1e48da=require(require(_0x248518(0x20b))['join'](this[_0x248518(0x231)],'ws'));}catch{try{let _0x96f7b6=await import('path');_0x1e48da=(await import((await import(_0x248518(0x1e9)))[_0x248518(0x242)](_0x96f7b6[_0x248518(0x210)](this[_0x248518(0x231)],_0x248518(0x215)))['toString']()))[_0x248518(0x1d6)];}catch{throw new Error(_0x248518(0x1d4));}}return this['_WebSocketClass']=_0x1e48da,_0x1e48da;}['_connectToHost'](){var _0x333817=_0xac630d;this['_connecting']||this[_0x333817(0x258)]||(this['_allowedToConnectOnSend']=!0x1,this[_0x333817(0x268)]=!0x0,this[_0x333817(0x204)]=new Promise((_0x441421,_0x3e8754)=>{var _0x8170f9=_0x333817;this[_0x8170f9(0x252)]()['then'](_0x19e896=>{var _0x304142=_0x8170f9;let _0x1b1e86=new _0x19e896(_0x304142(0x1c2)+this[_0x304142(0x280)]+':'+this[_0x304142(0x290)]);_0x1b1e86[_0x304142(0x253)]=()=>{var _0x32015b=_0x304142;this[_0x32015b(0x258)]=!0x1,this[_0x32015b(0x268)]=!0x1,this['_allowedToSend']=!0x1,this[_0x32015b(0x296)](),_0x3e8754(new Error(_0x32015b(0x295)));},_0x1b1e86[_0x304142(0x235)]=()=>{var _0x2f7d3b=_0x304142;this['_inBrowser']||_0x1b1e86[_0x2f7d3b(0x244)]&&_0x1b1e86[_0x2f7d3b(0x244)][_0x2f7d3b(0x218)]&&_0x1b1e86[_0x2f7d3b(0x244)][_0x2f7d3b(0x218)](),_0x441421(_0x1b1e86);},_0x1b1e86[_0x304142(0x275)]=()=>{var _0x960fc7=_0x304142;this[_0x960fc7(0x258)]=!0x1,this[_0x960fc7(0x268)]=!0x1,this['_allowedToConnectOnSend']=!0x0,this[_0x960fc7(0x296)]();},_0x1b1e86[_0x304142(0x274)]=_0x4b9a74=>{var _0xfedc32=_0x304142;try{_0x4b9a74&&_0x4b9a74[_0xfedc32(0x27a)]&&this[_0xfedc32(0x1e6)]&&JSON['parse'](_0x4b9a74[_0xfedc32(0x27a)])[_0xfedc32(0x205)]===_0xfedc32(0x257)&&this[_0xfedc32(0x289)][_0xfedc32(0x23d)]['reload']();}catch{}};})['then'](_0x593ff1=>(this[_0x8170f9(0x258)]=!0x0,this[_0x8170f9(0x268)]=!0x1,this[_0x8170f9(0x261)]=!0x1,this[_0x8170f9(0x20c)]=!0x0,_0x593ff1))[_0x8170f9(0x1c6)](_0x463ac4=>(this['_connected']=!0x1,this['_connecting']=!0x1,_0x3e8754(new Error(_0x8170f9(0x1de)+_0x463ac4&&_0x463ac4[_0x8170f9(0x214)]))));}));}['_attemptToReconnect'](){var _0x18c6ae=_0xac630d;clearTimeout(this[_0x18c6ae(0x1c4)]),this[_0x18c6ae(0x1c4)]=setTimeout(()=>{var _0x3eb032=_0x18c6ae;this[_0x3eb032(0x258)]||this[_0x3eb032(0x268)]||(this[_0x3eb032(0x220)](),this[_0x3eb032(0x204)]?.[_0x3eb032(0x1c6)](()=>this['_attemptToReconnect']()));},0x1f4);}async[_0xac630d(0x24d)](_0x8d094a){var _0x8b2271=_0xac630d;try{if(!this[_0x8b2271(0x20c)])return;this['_allowedToConnectOnSend']&&this[_0x8b2271(0x220)](),(await this[_0x8b2271(0x204)])['send'](JSON[_0x8b2271(0x1cc)](_0x8d094a));}catch(_0x1a3cd8){console['warn'](this['_sendErrorMessage']+':\\\\x20'+_0x1a3cd8&&_0x1a3cd8['message']),this[_0x8b2271(0x20c)]=!0x1,this['_attemptToReconnect']();}}};function b(_0x4f3ebe,_0x20d285,_0x48d261,_0x5356d5,_0x26cea4){var _0x5e20de=_0xac630d;let _0xf7426b=_0x48d261[_0x5e20de(0x232)](',')[_0x5e20de(0x250)](_0x14c8e1=>{var _0x34caca=_0x5e20de;try{_0x4f3ebe[_0x34caca(0x1e1)]||((_0x26cea4===_0x34caca(0x22a)||_0x26cea4==='remix')&&(_0x26cea4+=_0x4f3ebe[_0x34caca(0x221)]?.[_0x34caca(0x1f3)]?.[_0x34caca(0x28d)]?_0x34caca(0x26a):_0x34caca(0x245)),_0x4f3ebe['_console_ninja_session']={'id':+new Date(),'tool':_0x26cea4});let _0x32ec98=new $(_0x4f3ebe,_0x20d285,_0x14c8e1,_0x5356d5);return _0x32ec98['send'][_0x34caca(0x285)](_0x32ec98);}catch(_0x31c1b6){return console[_0x34caca(0x292)](_0x34caca(0x260),_0x31c1b6&&_0x31c1b6['message']),()=>{};}});return _0x5f254b=>_0xf7426b['forEach'](_0x22b73e=>_0x22b73e(_0x5f254b));}function Z(_0x6f78f6,_0x44ca49,_0x23ecad){var _0x560510=_0xac630d;if(_0x6f78f6[_0x560510(0x1f4)]!==void 0x0)return _0x6f78f6[_0x560510(0x1f4)];let _0x239046=_0x6f78f6[_0x560510(0x221)]?.[_0x560510(0x1f3)]?.[_0x560510(0x28d)];return _0x239046&&_0x23ecad==='nuxt'?_0x6f78f6[_0x560510(0x1f4)]=!0x1:_0x6f78f6['_consoleNinjaAllowedToStart']=_0x239046||!_0x44ca49||_0x6f78f6[_0x560510(0x23d)]?.[_0x560510(0x1e5)]&&_0x44ca49[_0x560510(0x1d9)](_0x6f78f6[_0x560510(0x23d)][_0x560510(0x1e5)]),_0x6f78f6['_consoleNinjaAllowedToStart'];}((_0x18f4c8,_0x5ac42e,_0x411404,_0x442b87,_0x3e0050,_0x3c28ab,_0x410bdb,_0x2fcf88,_0x5c2abb)=>{var _0x45a39f=_0xac630d;if(!Z(_0x18f4c8,_0x2fcf88,_0x3e0050))return;if(_0x18f4c8[_0x45a39f(0x1fd)]){_0x18f4c8[_0x45a39f(0x1ce)][_0x45a39f(0x1f1)]=_0x18f4c8[_0x45a39f(0x1fd)](_0x18f4c8[_0x45a39f(0x1ce)]['log']);return;}let _0x3d2a15={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x53f542={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2},_0xb566c0={'hits':{}};_0x18f4c8[_0x45a39f(0x1fd)]=_0x55244d=>(..._0x562e3c)=>{var _0x29f9a4=_0x45a39f;try{if(_0x55244d[_0x29f9a4(0x1c9)]===_0x29f9a4(0x26c))return;let _0xc120a1=Date['now'](),_0x3036be=_0x562e3c[_0x29f9a4(0x237)](),_0x2e12c4=_0x562e3c;return _0x55244d(..._0x2e12c4),_0x3832e4(_0x58c7eb(_0x3036be,_0xc120a1,_0x4ed49a,_0x2e12c4)),_0x2e12c4;}finally{_0x18f4c8['console']['log']=_0x55244d;}},_0x18f4c8[_0x45a39f(0x1ce)][_0x45a39f(0x1f1)]=_0x18f4c8['_replacedLog'](_0x18f4c8[_0x45a39f(0x1ce)][_0x45a39f(0x1f1)]);let _0x3832e4=b(_0x18f4c8,_0x5ac42e,_0x411404,_0x442b87,_0x3e0050),_0x10075e=_0x447c1b(),_0x4ed49a=_0x18f4c8[_0x45a39f(0x1e1)];class _0x405e65{constructor(){var _0x14ea9a=_0x45a39f;this[_0x14ea9a(0x1ea)]=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\\\xA0-\\\\uFFFF][_$a-zA-Z0-9\\\\xA0-\\\\uFFFF]*$/,this['_numberRegExp']=/^(0|[1-9][0-9]*)$/,this[_0x14ea9a(0x213)]=/'([^\\\\\\\\']|\\\\\\\\')*'/,this[_0x14ea9a(0x25d)]=_0x18f4c8[_0x14ea9a(0x1f5)],this[_0x14ea9a(0x26d)]=_0x18f4c8['HTMLAllCollection'],this['_getOwnPropertyDescriptor']=Object[_0x14ea9a(0x1d5)],this[_0x14ea9a(0x201)]=Object[_0x14ea9a(0x1d8)],this[_0x14ea9a(0x238)]=_0x18f4c8[_0x14ea9a(0x1cf)],this[_0x14ea9a(0x21e)]=RegExp['prototype'][_0x14ea9a(0x1e8)],this['_dateToString']=Date[_0x14ea9a(0x1c5)][_0x14ea9a(0x1e8)];}[_0x45a39f(0x229)](_0x1ba8d8,_0xb3e2e2,_0x30bd00,_0x3a093e){var _0x586ec6=_0x45a39f,_0x8486f7=this,_0x17a133=_0x30bd00[_0x586ec6(0x24b)];function _0x2841ef(_0x239add,_0x313a9a,_0x358216){var _0x2c7563=_0x586ec6;_0x313a9a[_0x2c7563(0x236)]=_0x2c7563(0x259),_0x313a9a[_0x2c7563(0x1ee)]=_0x239add[_0x2c7563(0x214)],_0x3eea47=_0x358216[_0x2c7563(0x28d)][_0x2c7563(0x1dd)],_0x358216[_0x2c7563(0x28d)][_0x2c7563(0x1dd)]=_0x313a9a,_0x8486f7[_0x2c7563(0x1e2)](_0x313a9a,_0x358216);}if(_0xb3e2e2&&_0xb3e2e2[_0x586ec6(0x28c)])_0x2841ef(_0xb3e2e2,_0x1ba8d8,_0x30bd00);else try{_0x30bd00['level']++,_0x30bd00[_0x586ec6(0x24b)]&&_0x30bd00[_0x586ec6(0x208)]['push'](_0xb3e2e2);var _0x4fa1b9,_0x1c0623,_0x1d19d2,_0x4b0a7c,_0xd900a1=[],_0x22be77=[],_0x1702d4,_0x16ef6f=this[_0x586ec6(0x1e0)](_0xb3e2e2),_0x236214=_0x16ef6f===_0x586ec6(0x1f8),_0x49be65=!0x1,_0x4cde2b=_0x16ef6f===_0x586ec6(0x22f),_0x5061a7=this['_isPrimitiveType'](_0x16ef6f),_0x349bdd=this[_0x586ec6(0x207)](_0x16ef6f),_0x53a030=_0x5061a7||_0x349bdd,_0x53897c={},_0x334602=0x0,_0x5cf763=!0x1,_0x3eea47,_0x43ea2b=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x30bd00['depth']){if(_0x236214){if(_0x1c0623=_0xb3e2e2[_0x586ec6(0x27e)],_0x1c0623>_0x30bd00['elements']){for(_0x1d19d2=0x0,_0x4b0a7c=_0x30bd00[_0x586ec6(0x20f)],_0x4fa1b9=_0x1d19d2;_0x4fa1b9<_0x4b0a7c;_0x4fa1b9++)_0x22be77[_0x586ec6(0x1f9)](_0x8486f7[_0x586ec6(0x1c8)](_0xd900a1,_0xb3e2e2,_0x16ef6f,_0x4fa1b9,_0x30bd00));_0x1ba8d8[_0x586ec6(0x256)]=!0x0;}else{for(_0x1d19d2=0x0,_0x4b0a7c=_0x1c0623,_0x4fa1b9=_0x1d19d2;_0x4fa1b9<_0x4b0a7c;_0x4fa1b9++)_0x22be77[_0x586ec6(0x1f9)](_0x8486f7[_0x586ec6(0x1c8)](_0xd900a1,_0xb3e2e2,_0x16ef6f,_0x4fa1b9,_0x30bd00));}_0x30bd00[_0x586ec6(0x209)]+=_0x22be77[_0x586ec6(0x27e)];}if(!(_0x16ef6f===_0x586ec6(0x276)||_0x16ef6f==='undefined')&&!_0x5061a7&&_0x16ef6f!=='String'&&_0x16ef6f!=='Buffer'&&_0x16ef6f!==_0x586ec6(0x1e3)){var _0x2a81c9=_0x3a093e[_0x586ec6(0x203)]||_0x30bd00[_0x586ec6(0x203)];if(this[_0x586ec6(0x28f)](_0xb3e2e2)?(_0x4fa1b9=0x0,_0xb3e2e2['forEach'](function(_0x53c722){var _0x6bbb25=_0x586ec6;if(_0x334602++,_0x30bd00[_0x6bbb25(0x209)]++,_0x334602>_0x2a81c9){_0x5cf763=!0x0;return;}if(!_0x30bd00[_0x6bbb25(0x28a)]&&_0x30bd00['autoExpand']&&_0x30bd00[_0x6bbb25(0x209)]>_0x30bd00[_0x6bbb25(0x263)]){_0x5cf763=!0x0;return;}_0x22be77[_0x6bbb25(0x1f9)](_0x8486f7[_0x6bbb25(0x1c8)](_0xd900a1,_0xb3e2e2,_0x6bbb25(0x1eb),_0x4fa1b9++,_0x30bd00,function(_0x581715){return function(){return _0x581715;};}(_0x53c722)));})):this['_isMap'](_0xb3e2e2)&&_0xb3e2e2['forEach'](function(_0x325f91,_0x5ca65d){var _0x1f73d0=_0x586ec6;if(_0x334602++,_0x30bd00['autoExpandPropertyCount']++,_0x334602>_0x2a81c9){_0x5cf763=!0x0;return;}if(!_0x30bd00[_0x1f73d0(0x28a)]&&_0x30bd00[_0x1f73d0(0x24b)]&&_0x30bd00[_0x1f73d0(0x209)]>_0x30bd00[_0x1f73d0(0x263)]){_0x5cf763=!0x0;return;}var _0x1b4dc6=_0x5ca65d[_0x1f73d0(0x1e8)]();_0x1b4dc6[_0x1f73d0(0x27e)]>0x64&&(_0x1b4dc6=_0x1b4dc6['slice'](0x0,0x64)+_0x1f73d0(0x1ec)),_0x22be77['push'](_0x8486f7[_0x1f73d0(0x1c8)](_0xd900a1,_0xb3e2e2,_0x1f73d0(0x21c),_0x1b4dc6,_0x30bd00,function(_0x53478c){return function(){return _0x53478c;};}(_0x325f91)));}),!_0x49be65){try{for(_0x1702d4 in _0xb3e2e2)if(!(_0x236214&&_0x43ea2b['test'](_0x1702d4))&&!this[_0x586ec6(0x265)](_0xb3e2e2,_0x1702d4,_0x30bd00)){if(_0x334602++,_0x30bd00[_0x586ec6(0x209)]++,_0x334602>_0x2a81c9){_0x5cf763=!0x0;break;}if(!_0x30bd00[_0x586ec6(0x28a)]&&_0x30bd00[_0x586ec6(0x24b)]&&_0x30bd00[_0x586ec6(0x209)]>_0x30bd00[_0x586ec6(0x263)]){_0x5cf763=!0x0;break;}_0x22be77['push'](_0x8486f7[_0x586ec6(0x1ff)](_0xd900a1,_0x53897c,_0xb3e2e2,_0x16ef6f,_0x1702d4,_0x30bd00));}}catch{}if(_0x53897c[_0x586ec6(0x230)]=!0x0,_0x4cde2b&&(_0x53897c[_0x586ec6(0x23c)]=!0x0),!_0x5cf763){var _0x453133=[][_0x586ec6(0x249)](this[_0x586ec6(0x201)](_0xb3e2e2))[_0x586ec6(0x249)](this['_getOwnPropertySymbols'](_0xb3e2e2));for(_0x4fa1b9=0x0,_0x1c0623=_0x453133['length'];_0x4fa1b9<_0x1c0623;_0x4fa1b9++)if(_0x1702d4=_0x453133[_0x4fa1b9],!(_0x236214&&_0x43ea2b[_0x586ec6(0x25e)](_0x1702d4[_0x586ec6(0x1e8)]()))&&!this[_0x586ec6(0x265)](_0xb3e2e2,_0x1702d4,_0x30bd00)&&!_0x53897c[_0x586ec6(0x233)+_0x1702d4[_0x586ec6(0x1e8)]()]){if(_0x334602++,_0x30bd00[_0x586ec6(0x209)]++,_0x334602>_0x2a81c9){_0x5cf763=!0x0;break;}if(!_0x30bd00[_0x586ec6(0x28a)]&&_0x30bd00['autoExpand']&&_0x30bd00['autoExpandPropertyCount']>_0x30bd00[_0x586ec6(0x263)]){_0x5cf763=!0x0;break;}_0x22be77[_0x586ec6(0x1f9)](_0x8486f7[_0x586ec6(0x1ff)](_0xd900a1,_0x53897c,_0xb3e2e2,_0x16ef6f,_0x1702d4,_0x30bd00));}}}}}if(_0x1ba8d8['type']=_0x16ef6f,_0x53a030?(_0x1ba8d8[_0x586ec6(0x26b)]=_0xb3e2e2[_0x586ec6(0x25f)](),this[_0x586ec6(0x206)](_0x16ef6f,_0x1ba8d8,_0x30bd00,_0x3a093e)):_0x16ef6f==='date'?_0x1ba8d8[_0x586ec6(0x26b)]=this[_0x586ec6(0x1fa)][_0x586ec6(0x1e7)](_0xb3e2e2):_0x16ef6f==='RegExp'?_0x1ba8d8['value']=this[_0x586ec6(0x21e)]['call'](_0xb3e2e2):_0x16ef6f===_0x586ec6(0x219)&&this[_0x586ec6(0x238)]?_0x1ba8d8['value']=this[_0x586ec6(0x238)][_0x586ec6(0x1c5)][_0x586ec6(0x1e8)][_0x586ec6(0x1e7)](_0xb3e2e2):!_0x30bd00[_0x586ec6(0x25a)]&&!(_0x16ef6f==='null'||_0x16ef6f===_0x586ec6(0x1f5))&&(delete _0x1ba8d8[_0x586ec6(0x26b)],_0x1ba8d8[_0x586ec6(0x202)]=!0x0),_0x5cf763&&(_0x1ba8d8[_0x586ec6(0x283)]=!0x0),_0x3eea47=_0x30bd00['node'][_0x586ec6(0x1dd)],_0x30bd00['node']['current']=_0x1ba8d8,this[_0x586ec6(0x1e2)](_0x1ba8d8,_0x30bd00),_0x22be77[_0x586ec6(0x27e)]){for(_0x4fa1b9=0x0,_0x1c0623=_0x22be77[_0x586ec6(0x27e)];_0x4fa1b9<_0x1c0623;_0x4fa1b9++)_0x22be77[_0x4fa1b9](_0x4fa1b9);}_0xd900a1['length']&&(_0x1ba8d8['props']=_0xd900a1);}catch(_0x4f7721){_0x2841ef(_0x4f7721,_0x1ba8d8,_0x30bd00);}return this['_additionalMetadata'](_0xb3e2e2,_0x1ba8d8),this[_0x586ec6(0x1f6)](_0x1ba8d8,_0x30bd00),_0x30bd00['node'][_0x586ec6(0x1dd)]=_0x3eea47,_0x30bd00['level']--,_0x30bd00[_0x586ec6(0x24b)]=_0x17a133,_0x30bd00['autoExpand']&&_0x30bd00['autoExpandPreviousObjects'][_0x586ec6(0x237)](),_0x1ba8d8;}[_0x45a39f(0x284)](_0x2c2771){var _0x2639b9=_0x45a39f;return Object[_0x2639b9(0x248)]?Object[_0x2639b9(0x248)](_0x2c2771):[];}[_0x45a39f(0x28f)](_0x4cd9ea){var _0x5b4f97=_0x45a39f;return!!(_0x4cd9ea&&_0x18f4c8['Set']&&this[_0x5b4f97(0x20a)](_0x4cd9ea)===_0x5b4f97(0x1ef)&&_0x4cd9ea[_0x5b4f97(0x1d1)]);}[_0x45a39f(0x265)](_0x372ee2,_0x14b128,_0x5676fe){var _0x89536a=_0x45a39f;return _0x5676fe[_0x89536a(0x26e)]?typeof _0x372ee2[_0x14b128]==_0x89536a(0x22f):!0x1;}[_0x45a39f(0x1e0)](_0x3ba75f){var _0x301abb=_0x45a39f,_0x1c1108='';return _0x1c1108=typeof _0x3ba75f,_0x1c1108===_0x301abb(0x279)?this['_objectToString'](_0x3ba75f)===_0x301abb(0x241)?_0x1c1108='array':this[_0x301abb(0x20a)](_0x3ba75f)===_0x301abb(0x23a)?_0x1c1108=_0x301abb(0x23e):_0x3ba75f===null?_0x1c1108=_0x301abb(0x276):_0x3ba75f['constructor']&&(_0x1c1108=_0x3ba75f[_0x301abb(0x266)]['name']||_0x1c1108):_0x1c1108===_0x301abb(0x1f5)&&this[_0x301abb(0x26d)]&&_0x3ba75f instanceof this[_0x301abb(0x26d)]&&(_0x1c1108=_0x301abb(0x1db)),_0x1c1108;}['_objectToString'](_0x376d2c){var _0x499fe9=_0x45a39f;return Object[_0x499fe9(0x1c5)]['toString'][_0x499fe9(0x1e7)](_0x376d2c);}[_0x45a39f(0x223)](_0x3ef668){var _0x455aea=_0x45a39f;return _0x3ef668==='boolean'||_0x3ef668===_0x455aea(0x24c)||_0x3ef668===_0x455aea(0x243);}['_isPrimitiveWrapperType'](_0x37b6a1){var _0x3d97ca=_0x45a39f;return _0x37b6a1===_0x3d97ca(0x1d3)||_0x37b6a1==='String'||_0x37b6a1==='Number';}['_addProperty'](_0x3a4966,_0x47b015,_0xaac45c,_0x3f3738,_0x8a17a7,_0xdbaae3){var _0x90c073=this;return function(_0x117049){var _0x401007=_0x4baa,_0x5184d3=_0x8a17a7[_0x401007(0x28d)][_0x401007(0x1dd)],_0x231326=_0x8a17a7[_0x401007(0x28d)]['index'],_0x22e95b=_0x8a17a7[_0x401007(0x28d)]['parent'];_0x8a17a7['node'][_0x401007(0x234)]=_0x5184d3,_0x8a17a7[_0x401007(0x28d)]['index']=typeof _0x3f3738=='number'?_0x3f3738:_0x117049,_0x3a4966[_0x401007(0x1f9)](_0x90c073[_0x401007(0x269)](_0x47b015,_0xaac45c,_0x3f3738,_0x8a17a7,_0xdbaae3)),_0x8a17a7[_0x401007(0x28d)]['parent']=_0x22e95b,_0x8a17a7['node']['index']=_0x231326;};}[_0x45a39f(0x1ff)](_0x33c397,_0x5f4d81,_0x447f8b,_0x4969ee,_0x1a366b,_0x29dca5,_0x5a219f){var _0x3004da=_0x45a39f,_0xd5b28d=this;return _0x5f4d81[_0x3004da(0x233)+_0x1a366b[_0x3004da(0x1e8)]()]=!0x0,function(_0x38aaa3){var _0x5cbdda=_0x3004da,_0x9c701=_0x29dca5[_0x5cbdda(0x28d)][_0x5cbdda(0x1dd)],_0x59ab28=_0x29dca5[_0x5cbdda(0x28d)][_0x5cbdda(0x240)],_0x4888b3=_0x29dca5[_0x5cbdda(0x28d)][_0x5cbdda(0x234)];_0x29dca5[_0x5cbdda(0x28d)]['parent']=_0x9c701,_0x29dca5[_0x5cbdda(0x28d)]['index']=_0x38aaa3,_0x33c397['push'](_0xd5b28d[_0x5cbdda(0x269)](_0x447f8b,_0x4969ee,_0x1a366b,_0x29dca5,_0x5a219f)),_0x29dca5[_0x5cbdda(0x28d)][_0x5cbdda(0x234)]=_0x4888b3,_0x29dca5['node']['index']=_0x59ab28;};}[_0x45a39f(0x269)](_0x5e468c,_0x2c7117,_0x2ac6cd,_0x160917,_0x4c4ec1){var _0x14462c=_0x45a39f,_0x44509f=this;_0x4c4ec1||(_0x4c4ec1=function(_0x24a0e3,_0x214759){return _0x24a0e3[_0x214759];});var _0x5c1c79=_0x2ac6cd['toString'](),_0x125b34=_0x160917[_0x14462c(0x278)]||{},_0x1747b4=_0x160917['depth'],_0x9ef742=_0x160917['isExpressionToEvaluate'];try{var _0x2c898b=this['_isMap'](_0x5e468c),_0x3bee88=_0x5c1c79;_0x2c898b&&_0x3bee88[0x0]==='\\\\x27'&&(_0x3bee88=_0x3bee88[_0x14462c(0x200)](0x1,_0x3bee88[_0x14462c(0x27e)]-0x2));var _0x162705=_0x160917[_0x14462c(0x278)]=_0x125b34[_0x14462c(0x233)+_0x3bee88];_0x162705&&(_0x160917[_0x14462c(0x25a)]=_0x160917['depth']+0x1),_0x160917[_0x14462c(0x28a)]=!!_0x162705;var _0x3227ab=typeof _0x2ac6cd=='symbol',_0x16b998={'name':_0x3227ab||_0x2c898b?_0x5c1c79:this['_propertyName'](_0x5c1c79)};if(_0x3227ab&&(_0x16b998[_0x14462c(0x219)]=!0x0),!(_0x2c7117===_0x14462c(0x1f8)||_0x2c7117===_0x14462c(0x21d))){var _0x4db08f=this['_getOwnPropertyDescriptor'](_0x5e468c,_0x2ac6cd);if(_0x4db08f&&(_0x4db08f[_0x14462c(0x1c3)]&&(_0x16b998[_0x14462c(0x251)]=!0x0),_0x4db08f[_0x14462c(0x28e)]&&!_0x162705&&!_0x160917['resolveGetters']))return _0x16b998[_0x14462c(0x267)]=!0x0,this[_0x14462c(0x1ed)](_0x16b998,_0x160917),_0x16b998;}var _0x3a3139;try{_0x3a3139=_0x4c4ec1(_0x5e468c,_0x2ac6cd);}catch(_0xd6b5f6){return _0x16b998={'name':_0x5c1c79,'type':_0x14462c(0x259),'error':_0xd6b5f6['message']},this['_processTreeNodeResult'](_0x16b998,_0x160917),_0x16b998;}var _0x1ad449=this[_0x14462c(0x1e0)](_0x3a3139),_0x2cad68=this[_0x14462c(0x223)](_0x1ad449);if(_0x16b998[_0x14462c(0x236)]=_0x1ad449,_0x2cad68)this['_processTreeNodeResult'](_0x16b998,_0x160917,_0x3a3139,function(){var _0x3839fb=_0x14462c;_0x16b998[_0x3839fb(0x26b)]=_0x3a3139[_0x3839fb(0x25f)](),!_0x162705&&_0x44509f[_0x3839fb(0x206)](_0x1ad449,_0x16b998,_0x160917,{});});else{var _0x10eaa9=_0x160917[_0x14462c(0x24b)]&&_0x160917['level']<_0x160917[_0x14462c(0x1f2)]&&_0x160917[_0x14462c(0x208)][_0x14462c(0x28b)](_0x3a3139)<0x0&&_0x1ad449!=='function'&&_0x160917[_0x14462c(0x209)]<_0x160917[_0x14462c(0x263)];_0x10eaa9||_0x160917['level']<_0x1747b4||_0x162705?(this['serialize'](_0x16b998,_0x3a3139,_0x160917,_0x162705||{}),this[_0x14462c(0x293)](_0x3a3139,_0x16b998)):this[_0x14462c(0x1ed)](_0x16b998,_0x160917,_0x3a3139,function(){var _0x449faf=_0x14462c;_0x1ad449==='null'||_0x1ad449===_0x449faf(0x1f5)||(delete _0x16b998['value'],_0x16b998[_0x449faf(0x202)]=!0x0);});}return _0x16b998;}finally{_0x160917[_0x14462c(0x278)]=_0x125b34,_0x160917[_0x14462c(0x25a)]=_0x1747b4,_0x160917['isExpressionToEvaluate']=_0x9ef742;}}[_0x45a39f(0x206)](_0x1c8267,_0xdfbfcf,_0x5b53b2,_0x2884cd){var _0x3d251a=_0x45a39f,_0x1be935=_0x2884cd['strLength']||_0x5b53b2[_0x3d251a(0x228)];if((_0x1c8267==='string'||_0x1c8267==='String')&&_0xdfbfcf[_0x3d251a(0x26b)]){let _0x34cbc3=_0xdfbfcf[_0x3d251a(0x26b)][_0x3d251a(0x27e)];_0x5b53b2[_0x3d251a(0x270)]+=_0x34cbc3,_0x5b53b2[_0x3d251a(0x270)]>_0x5b53b2[_0x3d251a(0x281)]?(_0xdfbfcf[_0x3d251a(0x202)]='',delete _0xdfbfcf[_0x3d251a(0x26b)]):_0x34cbc3>_0x1be935&&(_0xdfbfcf[_0x3d251a(0x202)]=_0xdfbfcf[_0x3d251a(0x26b)][_0x3d251a(0x200)](0x0,_0x1be935),delete _0xdfbfcf[_0x3d251a(0x26b)]);}}[_0x45a39f(0x22b)](_0x10fe3e){var _0x2e5fe9=_0x45a39f;return!!(_0x10fe3e&&_0x18f4c8[_0x2e5fe9(0x21c)]&&this[_0x2e5fe9(0x20a)](_0x10fe3e)===_0x2e5fe9(0x20e)&&_0x10fe3e[_0x2e5fe9(0x1d1)]);}[_0x45a39f(0x1f0)](_0xaab59c){var _0x21cdd4=_0x45a39f;if(_0xaab59c['match'](/^\\\\d+$/))return _0xaab59c;var _0x36d439;try{_0x36d439=JSON[_0x21cdd4(0x1cc)](''+_0xaab59c);}catch{_0x36d439='\\\\x22'+this[_0x21cdd4(0x20a)](_0xaab59c)+'\\\\x22';}return _0x36d439[_0x21cdd4(0x21f)](/^\\\"([a-zA-Z_][a-zA-Z_0-9]*)\\\"$/)?_0x36d439=_0x36d439[_0x21cdd4(0x200)](0x1,_0x36d439[_0x21cdd4(0x27e)]-0x2):_0x36d439=_0x36d439[_0x21cdd4(0x1dc)](/'/g,'\\\\x5c\\\\x27')['replace'](/\\\\\\\\\\\"/g,'\\\\x22')[_0x21cdd4(0x1dc)](/(^\\\"|\\\"$)/g,'\\\\x27'),_0x36d439;}['_processTreeNodeResult'](_0x2bb03d,_0x2d246e,_0x5d112c,_0x5d8903){var _0x4346dc=_0x45a39f;this[_0x4346dc(0x1e2)](_0x2bb03d,_0x2d246e),_0x5d8903&&_0x5d8903(),this[_0x4346dc(0x293)](_0x5d112c,_0x2bb03d),this['_treeNodePropertiesAfterFullValue'](_0x2bb03d,_0x2d246e);}[_0x45a39f(0x1e2)](_0x3a6026,_0x29ba6e){var _0x1dbaaf=_0x45a39f;this['_setNodeId'](_0x3a6026,_0x29ba6e),this[_0x1dbaaf(0x21b)](_0x3a6026,_0x29ba6e),this['_setNodeExpressionPath'](_0x3a6026,_0x29ba6e),this[_0x1dbaaf(0x255)](_0x3a6026,_0x29ba6e);}[_0x45a39f(0x247)](_0x196c7d,_0x512a4a){}[_0x45a39f(0x21b)](_0x4d0474,_0x46ca29){}[_0x45a39f(0x277)](_0x59d1e0,_0x551a96){}['_isUndefined'](_0x2d8ad3){var _0x3e4428=_0x45a39f;return _0x2d8ad3===this[_0x3e4428(0x25d)];}[_0x45a39f(0x1f6)](_0x36c5ed,_0xf17282){var _0x478825=_0x45a39f;this[_0x478825(0x277)](_0x36c5ed,_0xf17282),this[_0x478825(0x216)](_0x36c5ed),_0xf17282[_0x478825(0x24a)]&&this[_0x478825(0x1e4)](_0x36c5ed),this[_0x478825(0x27d)](_0x36c5ed,_0xf17282),this['_addLoadNode'](_0x36c5ed,_0xf17282),this['_cleanNode'](_0x36c5ed);}[_0x45a39f(0x293)](_0x2239ba,_0x3544d4){var _0x5232cd=_0x45a39f;try{_0x2239ba&&typeof _0x2239ba[_0x5232cd(0x27e)]==_0x5232cd(0x243)&&(_0x3544d4[_0x5232cd(0x27e)]=_0x2239ba['length']);}catch{}if(_0x3544d4['type']===_0x5232cd(0x243)||_0x3544d4[_0x5232cd(0x236)]===_0x5232cd(0x273)){if(isNaN(_0x3544d4['value']))_0x3544d4['nan']=!0x0,delete _0x3544d4[_0x5232cd(0x26b)];else switch(_0x3544d4[_0x5232cd(0x26b)]){case Number[_0x5232cd(0x1d7)]:_0x3544d4[_0x5232cd(0x225)]=!0x0,delete _0x3544d4['value'];break;case Number['NEGATIVE_INFINITY']:_0x3544d4[_0x5232cd(0x24f)]=!0x0,delete _0x3544d4[_0x5232cd(0x26b)];break;case 0x0:this[_0x5232cd(0x26f)](_0x3544d4[_0x5232cd(0x26b)])&&(_0x3544d4['negativeZero']=!0x0);break;}}else _0x3544d4[_0x5232cd(0x236)]===_0x5232cd(0x22f)&&typeof _0x2239ba['name']=='string'&&_0x2239ba[_0x5232cd(0x1c9)]&&_0x3544d4['name']&&_0x2239ba['name']!==_0x3544d4[_0x5232cd(0x1c9)]&&(_0x3544d4[_0x5232cd(0x297)]=_0x2239ba[_0x5232cd(0x1c9)]);}[_0x45a39f(0x26f)](_0x4d0ed1){var _0x15d0fc=_0x45a39f;return 0x1/_0x4d0ed1===Number[_0x15d0fc(0x23b)];}[_0x45a39f(0x1e4)](_0x23d8af){var _0x109080=_0x45a39f;!_0x23d8af['props']||!_0x23d8af['props'][_0x109080(0x27e)]||_0x23d8af[_0x109080(0x236)]==='array'||_0x23d8af[_0x109080(0x236)]===_0x109080(0x21c)||_0x23d8af['type']==='Set'||_0x23d8af[_0x109080(0x203)]['sort'](function(_0x3f77f6,_0x26f05e){var _0x445080=_0x109080,_0x3395c5=_0x3f77f6[_0x445080(0x1c9)][_0x445080(0x1da)](),_0x4fd26c=_0x26f05e['name'][_0x445080(0x1da)]();return _0x3395c5<_0x4fd26c?-0x1:_0x3395c5>_0x4fd26c?0x1:0x0;});}['_addFunctionsNode'](_0x42815e,_0x520b18){var _0x2bf379=_0x45a39f;if(!(_0x520b18[_0x2bf379(0x26e)]||!_0x42815e[_0x2bf379(0x203)]||!_0x42815e['props']['length'])){for(var _0x162e35=[],_0x54f29c=[],_0x8f9fd8=0x0,_0x80a28c=_0x42815e[_0x2bf379(0x203)][_0x2bf379(0x27e)];_0x8f9fd8<_0x80a28c;_0x8f9fd8++){var _0x5d9d82=_0x42815e[_0x2bf379(0x203)][_0x8f9fd8];_0x5d9d82[_0x2bf379(0x236)]===_0x2bf379(0x22f)?_0x162e35[_0x2bf379(0x1f9)](_0x5d9d82):_0x54f29c['push'](_0x5d9d82);}if(!(!_0x54f29c[_0x2bf379(0x27e)]||_0x162e35['length']<=0x1)){_0x42815e[_0x2bf379(0x203)]=_0x54f29c;var _0x4ef92d={'functionsNode':!0x0,'props':_0x162e35};this[_0x2bf379(0x247)](_0x4ef92d,_0x520b18),this[_0x2bf379(0x277)](_0x4ef92d,_0x520b18),this[_0x2bf379(0x216)](_0x4ef92d),this['_setNodePermissions'](_0x4ef92d,_0x520b18),_0x4ef92d['id']+='\\\\x20f',_0x42815e[_0x2bf379(0x203)][_0x2bf379(0x288)](_0x4ef92d);}}}[_0x45a39f(0x1df)](_0x1cbf19,_0x7667f9){}[_0x45a39f(0x216)](_0x4c63e4){}['_isArray'](_0x33bc1e){var _0x184ce4=_0x45a39f;return Array[_0x184ce4(0x1fb)](_0x33bc1e)||typeof _0x33bc1e==_0x184ce4(0x279)&&this['_objectToString'](_0x33bc1e)===_0x184ce4(0x241);}[_0x45a39f(0x255)](_0x202dfe,_0x3a83a3){}[_0x45a39f(0x264)](_0x12b97a){var _0x1e1bb9=_0x45a39f;delete _0x12b97a[_0x1e1bb9(0x1fc)],delete _0x12b97a['_hasSetOnItsPath'],delete _0x12b97a[_0x1e1bb9(0x1c7)];}[_0x45a39f(0x25b)](_0x3e2022,_0x1cf062){}[_0x45a39f(0x211)](_0x46371a){var _0x49d322=_0x45a39f;return _0x46371a?_0x46371a[_0x49d322(0x21f)](this[_0x49d322(0x287)])?'['+_0x46371a+']':_0x46371a['match'](this[_0x49d322(0x1ea)])?'.'+_0x46371a:_0x46371a[_0x49d322(0x21f)](this[_0x49d322(0x213)])?'['+_0x46371a+']':'[\\\\x27'+_0x46371a+'\\\\x27]':'';}}let _0x44cf11=new _0x405e65();function _0x58c7eb(_0x142cf6,_0x3ce103,_0x2cc761,_0x5612ad){var _0x3bc213=_0x45a39f;let _0x4f9f19,_0x21fc23;try{_0x21fc23=_0x10075e(),_0x4f9f19=_0xb566c0[_0x142cf6],!_0x4f9f19||_0x21fc23-_0x4f9f19['ts']>0x1f4&&_0x4f9f19[_0x3bc213(0x227)]&&_0x4f9f19['time']/_0x4f9f19['count']<0x64?(_0xb566c0[_0x142cf6]=_0x4f9f19={'count':0x0,'time':0x0,'ts':_0x21fc23},_0xb566c0[_0x3bc213(0x246)]={}):_0x21fc23-_0xb566c0['hits']['ts']>0x32&&_0xb566c0[_0x3bc213(0x246)][_0x3bc213(0x227)]&&_0xb566c0[_0x3bc213(0x246)][_0x3bc213(0x1d0)]/_0xb566c0[_0x3bc213(0x246)][_0x3bc213(0x227)]<0x64&&(_0xb566c0[_0x3bc213(0x246)]={});let _0x375cdb=[],_0xfb0835=_0x4f9f19[_0x3bc213(0x271)]||_0xb566c0[_0x3bc213(0x246)][_0x3bc213(0x271)]?_0x53f542:_0x3d2a15;for(var _0x34302f=0x0;_0x34302f<_0x5612ad['length'];_0x34302f++){let _0x2273d7={};_0x2273d7[_0x3bc213(0x203)]=_0xfb0835[_0x3bc213(0x203)],_0x2273d7[_0x3bc213(0x20f)]=_0xfb0835[_0x3bc213(0x20f)],_0x2273d7[_0x3bc213(0x228)]=_0xfb0835[_0x3bc213(0x228)],_0x2273d7[_0x3bc213(0x281)]=_0xfb0835[_0x3bc213(0x281)],_0x2273d7['autoExpandLimit']=_0xfb0835['autoExpandLimit'],_0x2273d7[_0x3bc213(0x1f2)]=_0xfb0835[_0x3bc213(0x1f2)],_0x2273d7[_0x3bc213(0x24a)]=!0x1,_0x2273d7[_0x3bc213(0x26e)]=!_0x5c2abb,_0x2273d7[_0x3bc213(0x25a)]=0x1,_0x2273d7[_0x3bc213(0x272)]=0x0,_0x2273d7['expId']=_0x3bc213(0x24e),_0x2273d7[_0x3bc213(0x217)]=_0x3bc213(0x222),_0x2273d7[_0x3bc213(0x24b)]=!0x0,_0x2273d7[_0x3bc213(0x208)]=[],_0x2273d7[_0x3bc213(0x209)]=0x0,_0x2273d7[_0x3bc213(0x286)]=!0x0,_0x2273d7[_0x3bc213(0x270)]=0x0,_0x2273d7[_0x3bc213(0x28d)]={'current':void 0x0,'parent':void 0x0,'index':0x0},_0x375cdb[_0x3bc213(0x1f9)](_0x44cf11[_0x3bc213(0x229)]({},_0x5612ad[_0x34302f],_0x2273d7,{}));}return{'method':_0x3bc213(0x1f1),'version':_0x3c28ab,'args':[{'id':_0x142cf6,'ts':_0x3ce103,'args':_0x375cdb,'session':_0x2cc761}]};}catch(_0x1aeb5a){return{'method':_0x3bc213(0x1f1),'version':_0x3c28ab,'args':[{'id':_0x142cf6,'ts':_0x3ce103,'args':[{'type':_0x3bc213(0x259),'error':_0x1aeb5a&&_0x1aeb5a[_0x3bc213(0x214)],'session':_0x2cc761}]}]};}finally{try{if(_0x4f9f19&&_0x21fc23){let _0x3042e0=_0x10075e();_0x4f9f19[_0x3bc213(0x227)]++,_0x4f9f19[_0x3bc213(0x1d0)]+=_0x3042e0-_0x21fc23,_0x4f9f19['ts']=_0x3042e0,_0xb566c0['hits']['count']++,_0xb566c0[_0x3bc213(0x246)][_0x3bc213(0x1d0)]+=_0x3042e0-_0x21fc23,_0xb566c0['hits']['ts']=_0x3042e0,(_0x4f9f19[_0x3bc213(0x227)]>0x32||_0x4f9f19[_0x3bc213(0x1d0)]>0x64)&&(_0x4f9f19[_0x3bc213(0x271)]=!0x0),(_0xb566c0[_0x3bc213(0x246)][_0x3bc213(0x227)]>0x3e8||_0xb566c0[_0x3bc213(0x246)]['time']>0x12c)&&(_0xb566c0['hits'][_0x3bc213(0x271)]=!0x0);}}catch{}}}function _0x447c1b(){var _0x5e2ed7=_0x45a39f;if(_0x18f4c8['performance'])return()=>_0x18f4c8['performance'][_0x5e2ed7(0x254)]();try{let {performance:_0x1f9015}=require(_0x5e2ed7(0x22c));return()=>_0x1f9015[_0x5e2ed7(0x254)]();}catch{return()=>Date[_0x5e2ed7(0x254)]();}}})(globalThis,_0xac630d(0x27c),_0xac630d(0x1f7),\\\"c:\\\\\\\\Users\\\\\\\\Markm.000\\\\\\\\.vscode\\\\\\\\extensions\\\\\\\\wallabyjs.console-ninja-0.0.71\\\\\\\\node_modules\\\",_0xac630d(0x1ca),'1.0.0',_0xac630d(0x1d2),_0xac630d(0x27f),_0xac630d(0x224));\");}catch(e){}};/*eslint eslint-comments/disable-enable-pair:,eslint-comments/no-unlimited-disable:,eslint-comments/no-aggregating-enable:,eslint-comments/no-duplicate-disable:,eslint-comments/no-unused-disable:,eslint-comments/no-unused-enable:,*/", "import { json } from \"@remix-run/node\";\r\nimport fs from \"fs\";\r\nimport type { Book, BookMetadata } from \"~/types/bookTypes\";\r\n\r\n// export const bookData = (function () {\r\n//   const rawFileContent = fs.readFileSync(\"audiobooks.json\", {\r\n//     encoding: \"utf-8\",\r\n//   });\r\n//   // console.log(\"LOADED FILE\");\r\n//   return JSON.parse(rawFileContent);\r\n// })() as Book[];\r\n\r\nexport function readBookData(): Book[] {\r\n  const rawFileContent = fs.readFileSync(\"audiobooks.json\", {\r\n    encoding: \"utf-8\",\r\n  });\r\n  const rawAudibleContent = fs.readFileSync(\"audiblebooks.json\", {\r\n    encoding: \"utf-8\",\r\n  });\r\n  // console.log(\"LOADED FILE\");\r\n  if (!rawFileContent && !rawAudibleContent) {\r\n    throw json(\r\n      { message: \"No books records Found\" },\r\n      { status: 404, statusText: \"Not Found\" }\r\n    );\r\n  }\r\n  const comboData = [\r\n    ...JSON.parse(rawFileContent),\r\n    ...JSON.parse(rawAudibleContent),\r\n  ];\r\n  return comboData;\r\n}\r\n\r\n//---------------------------------------------\r\n//---------------------------------------------\r\nexport function readBookMetadata(): BookMetadata {\r\n  const rawFileContent = fs.readFileSync(\"bookMetadata.json\", {\r\n    encoding: \"utf-8\",\r\n  });\r\n  // console.log(\"LOADED FILE\");\r\n  if (!rawFileContent) {\r\n    throw json(\r\n      { message: \"No books records Found\" },\r\n      { status: 404, statusText: \"Not Found\" }\r\n    );\r\n  }\r\n  return JSON.parse(rawFileContent);\r\n}\r\n", "import { prisma } from \"./prisma.server\";\r\nimport { readBookData, readBookMetadata } from \"./audiobookLoader.server\";\r\nimport _ from \"lodash\";\r\nimport { getUserBooksData } from \"./prismaQueries.server\";\r\n\r\nexport async function getAllAudiobooks(userId: string) {\r\n  const books = readBookData();\r\n  const userBooksData = await getUserBooksData(userId);\r\n  // console.log(\"userbooks\", userBooksData);\r\n  // userBooksData?.UserBooks.map(book => book.id)\r\n  if (userBooksData) {\r\n    for (let bookData of userBooksData) {\r\n      const index = books.findIndex((book) => book.id === bookData.bookId);\r\n      books[index] = {\r\n        ...books[index],\r\n        rating: bookData?.rating,\r\n        favorite: bookData?.favorite,\r\n        listenedTo: bookData?.listenedTo,\r\n        listenedToDate: bookData?.listenedToDate,\r\n        comments: bookData?.comments,\r\n      };\r\n    }\r\n  }\r\n  return books;\r\n}\r\n\r\n// export function storeNotes(notes) {\r\n//   return fs.writeFile(\"notes.json\", JSON.stringify({ notes: notes || [] }));\r\n// }\r\n\r\nexport function getBookById(id: string) {\r\n  // console.log(\"book id\", id);\r\n  return readBookData().find((el) => el.id === id);\r\n}\r\n\r\ntype BookFilter = {\r\n  primaryCat?: string;\r\n  secondaryCat?: string;\r\n  author?: string;\r\n  title?: string;\r\n  favoriteFlag?: string | undefined;\r\n  listenedToFlag?: string | undefined;\r\n};\r\ntype SortFields = \"publishedYear\" | \"author\" | \"title\";\r\ntype SortDirections = \"asc\" | \"desc\";\r\ntype SortOptions = {\r\n  sortField: SortFields;\r\n  sortDirection: SortDirections;\r\n};\r\ntype Pagination = {\r\n  pageSize?: number;\r\n  offset?: number;\r\n};\r\n\r\ntype PaginationOut = {\r\n  prevOffset: number;\r\n  nextOffset: number;\r\n  prevAvailable: boolean;\r\n  nextAvailable: boolean;\r\n  totalPages: number;\r\n  currentPage: number;\r\n  totalBooks: number;\r\n};\r\nexport async function filterBooks(\r\n  userId: string,\r\n  filter: BookFilter,\r\n  sort: SortOptions,\r\n  pagination: Pagination\r\n) {\r\n  //console.log(\"title\", filter.title === \"\", filter.title?.length);\r\n  const bookData = await getAllAudiobooks(userId);\r\n  const sortField = sort?.sortField || \"title\";\r\n  const sortDirection = sort?.sortDirection || \"asc\";\r\n  const pageSize = pagination?.pageSize || 8;\r\n  const offset = pagination?.offset || 0;\r\n\r\n  let includeIdArray: string[] = [];\r\n\r\n  for (let book of bookData) {\r\n    let includeFlag = false;\r\n    //~ Order of filter\r\n    //~ Primary Cat, Secondary Cat, Author, Title, limit\r\n    //~~~ Primary Category Filter\r\n\r\n    if (validFilter(filter.primaryCat) && filter.primaryCat) {\r\n      if (book?.pathPrimaryCat === filter.primaryCat) {\r\n        includeFlag = true;\r\n      } else {\r\n        continue;\r\n      }\r\n    }\r\n\r\n    //~~~ Secondary Category Filter\r\n    if (validFilter(filter.secondaryCat) && filter.secondaryCat) {\r\n      if (book.pathSecondaryCat === filter.secondaryCat) {\r\n        includeFlag = true;\r\n      } else {\r\n        continue;\r\n      }\r\n    }\r\n\r\n    //~~~ Title Filter\r\n    if (validFilter(filter.title) && filter.title) {\r\n      if (book.title.toLowerCase().includes(filter.title.toLowerCase())) {\r\n        includeFlag = true;\r\n      } else {\r\n        continue;\r\n      }\r\n    }\r\n\r\n    //~~~ Author Filter\r\n    if (validFilter(filter.author) && filter.author) {\r\n      if (book.author.toLowerCase().includes(filter.author.toLowerCase())) {\r\n        includeFlag = true;\r\n      } else {\r\n        continue;\r\n      }\r\n    }\r\n\r\n    //~~~ favoriteFlag Filter\r\n    if (filter.favoriteFlag === \"true\") {\r\n      if (book.favorite) {\r\n        includeFlag = true;\r\n      } else {\r\n        continue;\r\n      }\r\n    } else {\r\n      // If favorite filter not ON, then include ALL records regardless of their fav flag setting\r\n      includeFlag = true;\r\n    }\r\n    //~~~ listenedToFlag Filter\r\n    if (filter.listenedToFlag === \"true\") {\r\n      if (book.listenedTo) {\r\n        includeFlag = true;\r\n      } else {\r\n        continue;\r\n      }\r\n    } else {\r\n      // If include filter not ON, then include ALL records regardless of their include flag setting\r\n      includeFlag = true;\r\n    }\r\n    // If se get here we probably don't even need to check includeFlag\r\n    // since we are jumping out of loop if book doesn't meet criteria\r\n    if (includeFlag) includeIdArray.push(book.id);\r\n  }\r\n\r\n  // Pull books that were included based on search criteria\r\n  // and then apply the limit if it exists\r\n  const filteredBooks = bookData.filter((el) =>\r\n    includeIdArray.some((id) => id == el.id)\r\n  );\r\n\r\n  const sortedBooks =\r\n    sortDirection === \"asc\"\r\n      ? _.sortBy(filteredBooks, [sortField])\r\n      : _.reverse(_.sortBy(filteredBooks, [sortField]));\r\n\r\n  const totalBooks = sortedBooks.length;\r\n\r\n  // console.log(\"get books\", sortedBooks.length, offset, pageSize);\r\n  // console.log(\r\n  //   \"get books STATS\",\r\n  //   Math.ceil(sortedBooks.length / pageSize),\r\n  //   Math.ceil(offset / pageSize)\r\n  // );\r\n\r\n  const paginationOut = calculateOffsets(offset, pageSize, sortedBooks.length);\r\n  paginationOut.totalPages = Math.ceil(sortedBooks.length / pageSize);\r\n  paginationOut.currentPage = Math.ceil(offset / pageSize) + 1;\r\n  paginationOut.totalBooks = totalBooks;\r\n\r\n  const books = sortedBooks.slice(offset, offset + pageSize);\r\n  console.log(\r\n    \"Prev and Next Offset\",\r\n    paginationOut.prevOffset,\r\n    paginationOut.nextOffset\r\n  );\r\n  // Sort by the sort options\r\n  // console.log(\"Sort Field\", sortField, sortDirection);\r\n  return { books, paginationOut };\r\n}\r\n\r\n//---------------------------------------------------\r\n//---------------------------------------------------\r\nexport type Categories = {\r\n  primaryCategories: string[];\r\n  secondaryCategories: string[];\r\n  categoryMap: Record<string, string[]>;\r\n};\r\nexport function getCategories(): Categories {\r\n  const bookMetadata = readBookMetadata();\r\n  return {\r\n    primaryCategories: bookMetadata.primaryCategories,\r\n    secondaryCategories: bookMetadata.secondaryCategories,\r\n    categoryMap: bookMetadata.categoryMap,\r\n  };\r\n}\r\n\r\n//---------------------------\r\n//---------------------------\r\nfunction validFilter(filter: string | undefined) {\r\n  if (!filter) return false;\r\n  if (filter) {\r\n    if (filter === \"\" || filter.length === 0 || !filter) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n//---------------------------\r\n//---------------------------\r\nfunction calculateOffsets(\r\n  offset: number,\r\n  pageSize: number,\r\n  totalRecords: number\r\n): PaginationOut {\r\n  // calc previous offset, can't be less than zero\r\n  let prevOffset = offset - pageSize;\r\n  let nextAvailable = true;\r\n  let prevAvailable = true;\r\n  if (prevOffset < 0) {\r\n    prevOffset = 0;\r\n    prevAvailable = false;\r\n  }\r\n\r\n  // calc next offset, can't be greater than total records\r\n  let nextOffset = offset + pageSize;\r\n  if (nextOffset >= totalRecords) {\r\n    nextOffset = offset;\r\n    nextAvailable = false;\r\n  }\r\n\r\n  return { prevOffset, nextOffset, prevAvailable, nextAvailable };\r\n}\r\n", "import { PrismaClient } from \"@prisma/client\";\r\n\r\nlet prisma: PrismaClient;\r\ndeclare global {\r\n  var __db: PrismaClient | undefined;\r\n}\r\n\r\n// Need to do this because in dev mode with hot loading, we would create many instances of client\r\nif (process.env.NODE_ENV === \"production\") {\r\n  prisma = new PrismaClient();\r\n  prisma.$connect();\r\n} else {\r\n  if (!global.__db) {\r\n    global.__db = new PrismaClient();\r\n    global.__db.$connect();\r\n  }\r\n  prisma = global.__db;\r\n}\r\n\r\nexport { prisma };\r\n", "import { Form, Link, useActionData, useSubmit } from \"@remix-run/react\";\r\nimport { Book } from \"~/types/bookTypes\";\r\n\r\nimport { FaClipboard, FaClipboardCheck } from \"react-icons/fa\";\r\nimport { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport BookImage from \"./BookImage\";\r\nimport BookFavorite from \"./BookFavorite\";\r\nimport BookListenedTo from \"./BookListenedTo\";\r\n\r\nimport useCopyToClip from \"~/hooks/useCopyToClip\";\r\nimport BookRatingSet from \"./BookRatingSet\";\r\n\r\nconst BookCard = ({ book }: { book: Book }) => {\r\n  const [value, copy] = useCopyToClip(3000);\r\n\r\n  const noImage = !book.imageURL || !book.imageURL?.includes(\"http\");\r\n\r\n  const amazonLink = `https://www.amazon.com/s/?search-alias=stripbooks&field-author=${book.author}&field-title=${book.title}`;\r\n  const audibleLink = book?.asin\r\n    ? `https://www.audible.com/pd/${book?.asin}`\r\n    : undefined;\r\n  const twColor = book.source === \"audible\" ? \"audible\" : \"cerulean-blue\";\r\n  const titleBGColor =\r\n    book.source === \"audible\" ? `bg-audible-500` : `bg-cerulean-blue-500`;\r\n  const titleTextColor =\r\n    book.source === \"audible\" ? `text-audible-900` : `text-cerulean-blue-100`;\r\n  const borderColor =\r\n    book.source === \"audible\"\r\n      ? `border-b-audible-900`\r\n      : `border-b-cerulean-blue-900`;\r\n  const cardBGColor =\r\n    book.source === \"audible\" ? `bg-audible-300` : `bg-cerulean-blue-300`;\r\n  return (\r\n    <div\r\n      className={`flex flex-col w-[375px] h-[475px] border border-black m-3 ${cardBGColor}`}\r\n    >\r\n      <div\r\n        className={`border-b ${borderColor} ${titleTextColor} ${titleBGColor}  p-1 pb-2`}\r\n      >\r\n        <div className={`flex text-xl font-semibold justify-around`}>\r\n          <Link to={`./${book.id}`}>{book.title}</Link>\r\n        </div>\r\n        <div className=\"flex flex-row items-center justify-between\">\r\n          <div className=\"max-w-[65%]\">\r\n            <BookRatingSet book={book} />\r\n          </div>\r\n          <div className=\"flex flex-row flex-grow ml-4 mr-2 justify-around\">\r\n            <BookFavorite book={book} />\r\n            <BookListenedTo book={book} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={`flex `}>\r\n        <a\r\n          href={audibleLink || amazonLink}\r\n          target=\"_blank\"\r\n          className=\"mx-2 mt-2 flex-shrink-0 hover:border-2 transition-all\r\n          hover:border-cerulean-blue-600 hover:rounded-lg\"\r\n        >\r\n          <BookImage\r\n            imageUrl={book.imageURL}\r\n            width={128}\r\n            height={205}\r\n            bookTitle={book.title}\r\n          />\r\n        </a>\r\n        <div className=\"flex flex-col mt-2 \">\r\n          <div className=\"book-text-dets\">{book.author}</div>\r\n          <div className=\"book-text-dets\">Published - {book.publishedYear}</div>\r\n          <div className=\"book-text-dets\">\r\n            Length -{\" \"}\r\n            {book.bookLengthText ? book.bookLengthText : book.pageCount}\r\n          </div>\r\n          <div className=\"book-text-dets\">\r\n            {book.primaryCategory}-{book.secondaryCategory}\r\n          </div>\r\n          <div className={`text-md ${titleTextColor} font-semibold`}>\r\n            {book.genres.join(\", \")}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {book.dropboxLocation ? (\r\n        <div className=\"mt-2 flex flex-col flex-grow overflow-visible relative\">\r\n          <div\r\n            className=\"absolute text-white top-1 right-1 hover:text-green-200 hover:animate-pulse cursor-pointer\"\r\n            onClick={() => {\r\n              copy(book.dropboxLocation || \"\");\r\n            }}\r\n          >\r\n            {value ? (\r\n              <FaClipboardCheck size={20} color=\"lightgreen\" />\r\n            ) : (\r\n              <FaClipboard size={20} />\r\n            )}\r\n          </div>\r\n          <div className=\"pt-1 bg-cerulean-blue-700 text-green-200 text-center\">\r\n            {book.dropboxLocation?.split(\"/\").slice(4, 6).join(\"/\")}\r\n          </div>\r\n          <div className=\"pb-1 bg-cerulean-blue-700 text-white text-sm text-center\">\r\n            {book.dropboxLocation?.split(\"/\").slice(6).join(\"/\")}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"mt-2 h-3 bg-audible-700 overflow-visible\" />\r\n      )}\r\n      <div\r\n        className={`p-2 pb-0 my-1\r\n                  flex-grow overflow-hidden overflow-y-scroll scrollbar-hide`}\r\n      >\r\n        {book.description}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookCard;\r\n", "type Props = {\r\n  imageUrl: string | undefined;\r\n  width: number;\r\n  height: number;\r\n  bookTitle: string | undefined;\r\n};\r\nfunction BookImage({ imageUrl, width, height, bookTitle }: Props) {\r\n  const noImage = !imageUrl || !imageUrl?.includes(\"http\");\r\n\r\n  return (\r\n    <>\r\n      {noImage ? (\r\n        <div\r\n          className={`w-[${128}px] h-[${200}px] border border-gray-700 rounded-lg`}\r\n        >\r\n          <img\r\n            className=\"border border-gray-700 rounded-lg\"\r\n            src={`https://via.placeholder.com/128x200?text=${bookTitle}`}\r\n            width={`${width}px`}\r\n            height={`${height}px`}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <img\r\n          className=\"border border-gray-700 rounded-lg\"\r\n          src={imageUrl}\r\n          width={`${width}px`}\r\n          height={`${height}px`}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BookImage;\r\n", "import { Form, useFetcher, useTransition } from \"@remix-run/react\";\r\nimport { Book } from \"~/types/bookTypes\";\r\nimport { AiOutlineHeart, AiFillHeart } from \"react-icons/ai\";\r\ntype Props = {\r\n  book: Book;\r\n};\r\nfunction BookFavorite({ book }: Props) {\r\n  const fetcher = useFetcher();\r\n  const isFaving = fetcher?.submission?.formData.get(\"bookid\") === book.id;\r\n  const favoriteFlag = isFaving ? !book?.favorite : book?.favorite;\r\n\r\n  return (\r\n    <fetcher.Form method=\"post\">\r\n      <input\r\n        type=\"hidden\"\r\n        id=\"favorite\"\r\n        name=\"favorite\"\r\n        value={book?.favorite?.toString()}\r\n      />\r\n      <input type=\"hidden\" id=\"bookid\" name=\"bookid\" value={book.id} />\r\n\r\n      <button\r\n        type=\"submit\"\r\n        aria-label=\"toggle favorite\"\r\n        name=\"_action\"\r\n        value=\"toggle-favorite\"\r\n      >\r\n        {favoriteFlag ? (\r\n          <AiFillHeart size={35} color={\"red\"} />\r\n        ) : (\r\n          <AiOutlineHeart size={35} color={\"black\"} />\r\n        )}\r\n      </button>\r\n    </fetcher.Form>\r\n  );\r\n}\r\n\r\nexport default BookFavorite;\r\n", "import { Form, useFetcher, useTransition } from \"@remix-run/react\";\r\nimport { Book } from \"~/types/bookTypes\";\r\nimport { BsEarbuds } from \"react-icons/bs\";\r\n\r\ntype Props = {\r\n  book: Book;\r\n};\r\nfunction BookListenedTo({ book }: Props) {\r\n  const fetcher = useFetcher();\r\n  const BookListenedTo = book?.listenedTo;\r\n  const settingItem = fetcher?.submission?.formData.get(\"bookid\") === book.id;\r\n  const optimisticValue = settingItem ? !BookListenedTo : BookListenedTo;\r\n\r\n  return (\r\n    <fetcher.Form method=\"post\">\r\n      <input\r\n        type=\"hidden\"\r\n        id=\"listenedto\"\r\n        name=\"listenedto\"\r\n        value={BookListenedTo?.toString()}\r\n      />\r\n      <input type=\"hidden\" id=\"bookid\" name=\"bookid\" value={book.id} />\r\n\r\n      <button\r\n        type=\"submit\"\r\n        aria-label=\"toggle listenedto\"\r\n        name=\"_action\"\r\n        value=\"toggle-listenedto\"\r\n      >\r\n        {optimisticValue ? (\r\n          <BsEarbuds size={35} color=\"green\" />\r\n        ) : (\r\n          <BsEarbuds size={35} color={\"black\"} />\r\n        )}\r\n      </button>\r\n    </fetcher.Form>\r\n  );\r\n}\r\n\r\nexport default BookListenedTo;\r\n", "import { useState, useEffect } from \"react\";\r\n\r\ntype CopiedValue = string | null;\r\ntype CopyFn = (text: string) => Promise<boolean>; // Return success\r\n\r\nfunction useCopyToClip(timeout?: number | undefined): [CopiedValue, CopyFn] {\r\n  const [copiedText, setCopiedText] = useState<CopiedValue>(null);\r\n\r\n  useEffect(() => {\r\n    if (copiedText) {\r\n      setTimeout(() => setCopiedText(null), timeout);\r\n    }\r\n  }, [copiedText]);\r\n\r\n  const copy: CopyFn = async (text) => {\r\n    if (!navigator?.clipboard) {\r\n      console.warn(\"Clipboard not supported\");\r\n      return false;\r\n    }\r\n\r\n    // Try to save to clipboard then save it in the state if worked\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      setCopiedText(text);\r\n      return true;\r\n    } catch (error) {\r\n      console.warn(\"Copy failed\", error);\r\n      setCopiedText(null);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  return [copiedText, copy];\r\n}\r\n\r\nexport default useCopyToClip;\r\n", "import { useFetcher } from \"@remix-run/react\";\r\nimport { Book } from \"~/types/bookTypes\";\r\nimport { Rating } from \"@smastrom/react-rating\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\ntype Props = {\r\n  book: Book;\r\n};\r\nfunction BookRatingSet({ book }: Props) {\r\n  const fetcher = useFetcher();\r\n  const [rating, setRating] = useState(book?.rating || 0);\r\n  const [doSubmit, setDoSubmit] = useState(false);\r\n  const isSubmitting = fetcher?.submission?.formData.get(\"bookid\") === book.id;\r\n  const formRef = useRef<HTMLFormElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (doSubmit && formRef.current) {\r\n      fetcher.submit(formRef.current);\r\n      setDoSubmit(false);\r\n    }\r\n  }, [rating]);\r\n  return (\r\n    <fetcher.Form method=\"post\" ref={formRef}>\r\n      <input type=\"hidden\" id=\"rating\" name=\"rating\" value={rating} />\r\n      <input type=\"hidden\" id=\"bookid\" name=\"bookid\" value={book.id} />\r\n      <input type=\"hidden\" id=\"_action\" name=\"_action\" value=\"rating\" />\r\n\r\n      <Rating\r\n        // style={{ maxWidth: 250 }}\r\n        items={10}\r\n        transition=\"zoom\"\r\n        // className=\"max-w-[90%]\"\r\n        value={rating}\r\n        isDisabled={isSubmitting}\r\n        onChange={(value: number) => {\r\n          setRating(value);\r\n          setDoSubmit(true);\r\n        }}\r\n      />\r\n    </fetcher.Form>\r\n  );\r\n}\r\n\r\nexport default BookRatingSet;\r\n", "import {\r\n  useSubmit,\r\n  Form,\r\n  useNavigate,\r\n  useSearchParams,\r\n} from \"@remix-run/react\";\r\nimport {\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useReducer,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { Categories } from \"~/data/audiobookGet.server\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  AiFillHeart,\r\n  AiOutlineHeart,\r\n  AiOutlineCloseCircle,\r\n} from \"react-icons/ai\";\r\nimport { BsEarbuds } from \"react-icons/bs\";\r\nimport { BsSlashLg } from \"react-icons/bs\";\r\nimport SearchInput from \"../SearchInputs/SearchInput\";\r\nimport ThreeOptionState from \"../input/ThreeOptionState\";\r\nimport ThreeOptionStateComponent from \"../input/ThreeOptionState\";\r\n\r\ntype Props = {\r\n  categories: Categories;\r\n  totalBooks: number;\r\n};\r\n\r\nexport type ThreeOptionState = \"off\" | \"include\" | \"exclude\";\r\n//-------------------------------------------\r\n//-- Temporary categories mappings\r\n//-------------------------------------------\r\nconst primaryCategories = [\"Biographies\", \"Fiction\", \"Language\", \"NonFiction\"];\r\nconst secondaryCategories = [\r\n  \"Celebrity\",\r\n  \"Historical\",\r\n  \"Science\",\r\n  \"Action Suspense\",\r\n  \"Fantasy\",\r\n  \"General Fiction\",\r\n  \"Horror\",\r\n  \"SciFi\",\r\n  \"Business Wealth\",\r\n  \"Education\",\r\n  \"Health Wellness\",\r\n  \"Productivity\",\r\n  \"Self Help\",\r\n  \"Spirituality\",\r\n  \"Success Motivation\",\r\n  \"Technology\",\r\n  \"TTC\",\r\n];\r\nconst categoryMap: Record<string, string[]> = {\r\n  Biographies: [\"Celebrity\", \"Historical\", \"Science\"],\r\n  Fiction: [\"Action Suspense\", \"Fantasy\", \"General Fiction\", \"Horror\", \"SciFi\"],\r\n  Language: [],\r\n  NonFiction: [\r\n    \"Business Wealth\",\r\n    \"Education\",\r\n    \"Health Wellness\",\r\n    \"Productivity\",\r\n    \"Science\",\r\n    \"Self Help\",\r\n    \"Spirituality\",\r\n    \"Success Motivation\",\r\n    \"Technology\",\r\n    \"TTC\",\r\n  ],\r\n};\r\n\r\nconst ratingReducer = (\r\n  state: \"asc\" | \"desc\" | \"off\",\r\n  action: { type: \"asc\" | \"desc\" | \"off\" }\r\n) => {\r\n  switch (action.type) {\r\n    case \"asc\":\r\n      state = \"desc\";\r\n      break;\r\n    case \"desc\":\r\n      state = \"off\";\r\n      break;\r\n    default:\r\n      state = \"asc\";\r\n      break;\r\n  }\r\n  return state;\r\n};\r\n\r\nconst threeWayReducer = (\r\n  state: ThreeOptionState,\r\n  action: { type: ThreeOptionState }\r\n) => {\r\n  switch (action.type) {\r\n    case \"include\":\r\n      state = \"exclude\";\r\n      break;\r\n    case \"exclude\":\r\n      state = \"off\";\r\n      break;\r\n    default:\r\n      state = \"include\";\r\n      break;\r\n  }\r\n  return state;\r\n};\r\n//~ --------------------------------------------------------\r\n//~ SearchBarForm Component ------\r\n//~ --------------------------------------------------------\r\nfunction SearchBarForm({ totalBooks }: Props) {\r\n  const [params, setParams] = useSearchParams();\r\n  const [secondCats, setSecondCats] = useState<string[]>([]);\r\n\r\n  const submit = useSubmit();\r\n  const [ratingSortState, toggleRSState] = useReducer(ratingReducer, \"off\");\r\n\r\n  // Form Refs\r\n  const formRef = useRef<HTMLFormElement>(null);\r\n  const catRef = useRef<HTMLSelectElement>(null);\r\n  const subCatRef = useRef<HTMLSelectElement>(null);\r\n\r\n  const newParams = useMemo(\r\n    () => ({\r\n      title: params.get(\"title\") || undefined,\r\n      author: params.get(\"author\") || undefined,\r\n      primarycat: params.get(\"primarycat\") || undefined,\r\n      secondarycat: params.get(\"secondarycat\") || undefined,\r\n      source: params.get(\"source\") || undefined,\r\n      sortfield: params.get(\"sortfield\") || undefined,\r\n      sortDirection: params.get(\"sortdirection\") || undefined,\r\n      favorited: params.get(\"favorited\") || undefined,\r\n      listenedToFlag: params.get(\"listenedToFlag\") || undefined,\r\n    }),\r\n    [params]\r\n  );\r\n\r\n  //~ For changes in ratingSortState\r\n  useEffect(() => {\r\n    db_handleChange(formRef.current);\r\n  }, [ratingSortState]);\r\n\r\n  // Whenever params change, we need to deal with the\r\n  // secondary categories.  First populating them with the appropriate\r\n  // secondary cats based on the primary selected AND if there is a secondarcat\r\n  // in the search params, we need to make it the value on the secondary/sub cat select element\r\n  useEffect(() => {\r\n    secondCatsFunc();\r\n  }, [newParams, subCatRef.current]);\r\n\r\n  const secondCatsFunc = () => {\r\n    if (catRef.current?.value) {\r\n      setSecondCats([\"\", ...categoryMap[catRef.current?.value]]);\r\n    } else {\r\n      setSecondCats([\"\", ...secondaryCategories]);\r\n    }\r\n\r\n    if (newParams.secondarycat && subCatRef.current) {\r\n      subCatRef.current.value = newParams.secondarycat;\r\n      // catRef.current.value = \"Fiction\";\r\n    }\r\n  };\r\n  //\r\n\r\n  // This currently isn't debounced because it is only used\r\n  // to submit on a clear when using the inputField for Author and Title\r\n  const submitForm = useCallback(() => {\r\n    if (formRef.current) {\r\n      handleChange(formRef.current);\r\n    } else {\r\n      throw new Error(\r\n        \"Form Ref not Initialized, can't submit form... SearchBarForm.tsx\"\r\n      );\r\n    }\r\n  }, [formRef.current]);\r\n\r\n  //~ ----------------------------------\r\n  //~ Auto Form submit with debouncing\r\n  //~ ----------------------------------\r\n  function handleChange(targetForm: HTMLFormElement) {\r\n    submit(targetForm, { replace: true });\r\n  }\r\n  const db_handleChange = useCallback(\r\n    _.debounce((e) => handleChange(e), 400),\r\n    []\r\n  );\r\n  //~ ----------------------------------\r\n\r\n  return (\r\n    <div className=\"flex w-full  bg-cerulean-blue-400 p-4 mb-5\" id=\"form\">\r\n      <Form\r\n        ref={formRef}\r\n        onChange={(e) => db_handleChange(e.currentTarget)}\r\n        className=\"flex items-center justify-between  flex-grow\"\r\n      >\r\n        <div className=\"flex items-center space-x-2\">\r\n          {/* Primary Category */}\r\n          <div className=\"flex flex-col\">\r\n            <label htmlFor=\"primarycat\" className=\"search-form-input-label\">\r\n              Primary Cat\r\n            </label>\r\n            <select\r\n              name=\"primarycat\"\r\n              ref={catRef}\r\n              onChange={secondCatsFunc}\r\n              defaultValue={newParams.primarycat}\r\n              className=\"select-box w-36\"\r\n            >\r\n              <option key=\"empty\" value=\"\"></option>\r\n              {primaryCategories?.map((cat) => (\r\n                <option key={cat} value={cat}>\r\n                  {cat}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          {/* Secondary Category */}\r\n          <div className=\"flex flex-col\">\r\n            <label htmlFor=\"secondarycat\" className=\"search-form-input-label\">\r\n              Secondary Cat\r\n            </label>\r\n            <select\r\n              name=\"secondarycat\"\r\n              ref={subCatRef}\r\n              defaultValue={newParams.secondarycat}\r\n              className=\"select-box w-48\"\r\n            >\r\n              {secondCats?.map((cat) => (\r\n                <option key={cat} value={cat}>\r\n                  {cat}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          {/* Title */}\r\n          <SearchInput\r\n            // ref={testRef}\r\n            defaultValue={newParams.title}\r\n            submitForm={submitForm}\r\n            label=\"Title\"\r\n            name=\"title\"\r\n          />\r\n          {/* Author */}\r\n          <SearchInput\r\n            // ref={testRef}\r\n            defaultValue={newParams.author}\r\n            submitForm={submitForm}\r\n            label=\"Author\"\r\n            name=\"author\"\r\n          />\r\n          {/* Audible/Dropbox or Both */}\r\n          <div className=\"flex flex-col \">\r\n            <label htmlFor=\"secondarycat\" className=\"search-form-input-label\">\r\n              Source\r\n            </label>\r\n            <select\r\n              name=\"source\"\r\n              // ref={subCatRef}\r\n              defaultValue={newParams.source}\r\n              className=\"select-box w-32\"\r\n            >\r\n              <option key=\"both\" value=\"\"></option>\r\n              <option key=\"audible\" value=\"audible\">\r\n                Audible Only\r\n              </option>\r\n              <option key=\"dropbox\" value=\"dropbox\">\r\n                Dropbox Only\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* FAVORITES */}\r\n          {/* FAVORITES WORKING START -------------------------*/}\r\n          {/* <div\r\n            onClick={() => {\r\n              setFavoriteState((prev) => !prev);\r\n            }}\r\n          >\r\n            <input\r\n              type=\"hidden\"\r\n              name=\"favorited\"\r\n              id=\"favorited\"\r\n              // defaultValue={newParams.listenedToFlag}\r\n              // value={isListenedTo.toString() === \"true\" ? \"false\" : \"true\"}\r\n              // value={isListenedTo.toString()}\r\n              value={favoriteState.toString()}\r\n            />\r\n            {favoriteState ? (\r\n              <AiFillHeart size={35} color={\"#ff758c\"} />\r\n            ) : (\r\n              <AiOutlineHeart size={35} />\r\n            )}\r\n          </div> */}\r\n          {/* FAVORITES END -------------------------*/}\r\n          {/* Favorite Flag */}\r\n\r\n          <div className=\"flex \">\r\n            {/* <div\r\n              className=\"ml-2 mr-3 mt-4\"\r\n              onClick={() => {\r\n                toggleFavoriteState({ type: favoriteState });\r\n              }}\r\n            >\r\n              <input\r\n                type=\"hidden\"\r\n                name=\"favorited\"\r\n                id=\"favorited\"\r\n                value={favoriteState.toString()}\r\n              /> */}\r\n            <ThreeOptionStateComponent\r\n              IconExclude={AiFillHeart}\r\n              IconInclude={AiFillHeart}\r\n              IconOffOverlay={BsSlashLg}\r\n              includeColor=\"red\"\r\n              fieldName=\"favorited\"\r\n              submitFunction={() => db_handleChange(formRef.current)}\r\n            />\r\n            {/* </div> */}\r\n            {/* ListenedTo Three Option State off, include, exclude */}\r\n            <ThreeOptionStateComponent\r\n              IconExclude={BsEarbuds}\r\n              IconInclude={BsEarbuds}\r\n              includeColor=\"green\"\r\n              IconOffOverlay={BsSlashLg}\r\n              fieldName=\"listenedToState\"\r\n              submitFunction={() => db_handleChange(formRef.current)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col items-center border border-gray-800 bg-cerulean-blue-300 rounded-md px-2\">\r\n          <div className=\"text-xl\">Books</div>\r\n          <div className=\"text-xl\">{totalBooks}</div>\r\n        </div>\r\n        <div className=\"flex  space-x-4 mr-4 \">\r\n          {/* Rating Sort */}\r\n          <div className=\"flex flex-col justify-around \">\r\n            <input\r\n              type=\"hidden\"\r\n              name=\"ratingsort\"\r\n              id=\"ratingsort\"\r\n              value={ratingSortState}\r\n            />\r\n            <div className=\"search-form-input-label ml-0\">Rating Sort</div>\r\n            <div\r\n              className=\"cursor-pointer px-2 py-1 text-white text-center self-center w-14 border border-black bg-cerulean-blue-500 rounded-md hover:bg-cerulean-blue-400\"\r\n              onClick={() => toggleRSState({ type: ratingSortState })}\r\n            >\r\n              {`${ratingSortState[0].toUpperCase()}${ratingSortState.slice(1)}`}\r\n            </div>\r\n          </div>\r\n          {/* Rating Sort END */}\r\n\r\n          <div className=\"flex flex-col\">\r\n            <div className=\"flex justify-between\">\r\n              <label\r\n                htmlFor=\"sortfield\"\r\n                className=\"search-form-input-label self-center\"\r\n              >\r\n                Sort By\r\n              </label>\r\n              <input\r\n                className=\"hidden\"\r\n                type=\"checkbox\"\r\n                id=\"sortdirection\"\r\n                name=\"sortdirection\"\r\n              />\r\n              <label\r\n                htmlFor=\"sortdirection\"\r\n                className=\"cursor-pointer px-2 py-1 text-white border border-black bg-cerulean-blue-500 rounded-md hover:bg-cerulean-blue-400\"\r\n              >\r\n                {newParams.sortDirection === \"on\" ? \"Desc\" : \"Asc\"}\r\n              </label>\r\n            </div>\r\n            <select\r\n              name=\"sortfield\"\r\n              defaultValue=\"author\"\r\n              className=\"select-box\"\r\n            >\r\n              <option value=\"author\">Author</option>\r\n              <option value=\"title\">Title</option>\r\n              <option value=\"publishedYear\">Published Year</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBarForm;\r\n", "import { useState, useRef, forwardRef } from \"react\";\r\nimport { AiOutlineCloseCircle } from \"react-icons/ai\";\r\n\r\ntype Props = {\r\n  defaultValue: string | undefined;\r\n  label: string;\r\n  name: string;\r\n  submitForm: () => void;\r\n};\r\nfunction SearchInput(\r\n  { defaultValue, label, name, submitForm }: Props,\r\n  ref: React.RefObject<HTMLInputElement>\r\n) {\r\n  const internalRef = useRef<HTMLInputElement>(null);\r\n\r\n  const clearInternal = () => {\r\n    internalRef.current && internalRef.current.focus();\r\n    if (internalRef.current && internalRef?.current.value !== \"\") {\r\n      internalRef.current.value = \"\";\r\n      submitForm();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col \">\r\n      <label htmlFor=\"title\" className=\"search-form-input-label\">\r\n        {label}\r\n      </label>\r\n      <div className=\"relative\">\r\n        <input\r\n          className=\"rounded-md border-gray-300 shadow-sm pr-5\r\n                          focus:border-primary-400 focus:ring focus:ring-primary-200 focus:ring-opacity-50 \r\n                          disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500\"\r\n          id={name}\r\n          name={name}\r\n          ref={internalRef}\r\n          type=\"text\"\r\n          defaultValue={defaultValue}\r\n          // value={newParams.title}\r\n          // defaultValue={(params.get(\"title\") as string) ?? undefined}\r\n          // onChange={(e) => submit(e.currentTarget.form)}\r\n        />\r\n\r\n        <AiOutlineCloseCircle\r\n          id=\"clear-title\"\r\n          onClick={(e) => {\r\n            clearInternal();\r\n            // clearInputField(e.currentTarget.id);\r\n          }}\r\n          className=\"absolute top-3 right-1 z-50 cursor-pointer\"\r\n          color=\"gray\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// export default forwardRef(SearchInput);\r\nexport default SearchInput;\r\n", "import { useReducer, useEffect } from \"react\";\r\nimport { IconType } from \"react-icons\";\r\n\r\nimport { ThreeOptionState } from \"../searchBar/SearchBarForm\";\r\n\r\nconst threeWayReducer = (\r\n  state: ThreeOptionState,\r\n  action: { type: ThreeOptionState }\r\n) => {\r\n  switch (action.type) {\r\n    case \"include\":\r\n      state = \"exclude\";\r\n      break;\r\n    case \"exclude\":\r\n      state = \"off\";\r\n      break;\r\n    default:\r\n      state = \"include\";\r\n      break;\r\n  }\r\n  return state;\r\n};\r\n\r\ntype Props = {\r\n  IconInclude: IconType;\r\n  IconExclude: IconType;\r\n  IconOffOverlay: IconType;\r\n  includeColor: string;\r\n  fieldName: string;\r\n  submitFunction: () => void;\r\n};\r\nconst ThreeOptionStateComponent = ({\r\n  IconExclude,\r\n  IconInclude,\r\n  IconOffOverlay,\r\n  includeColor,\r\n  fieldName,\r\n  submitFunction,\r\n}: Props) => {\r\n  const [threeOptState, toggleThreeOptState] = useReducer(\r\n    threeWayReducer,\r\n    \"off\"\r\n  );\r\n  useEffect(() => {\r\n    submitFunction();\r\n  }, [threeOptState]);\r\n  return (\r\n    <div>\r\n      <div\r\n        className=\"ml-2 mr-3 mt-4\"\r\n        onClick={() => {\r\n          toggleThreeOptState({ type: threeOptState });\r\n        }}\r\n      >\r\n        <input\r\n          type=\"hidden\"\r\n          name={fieldName}\r\n          id={fieldName}\r\n          value={threeOptState.toString()}\r\n        />\r\n        {threeOptState === \"include\" && (\r\n          <IconInclude size={35} color={includeColor} />\r\n        )}\r\n        {threeOptState === \"off\" && <IconExclude size={35} />}\r\n\r\n        {threeOptState === \"exclude\" && (\r\n          <div className=\"relative\">\r\n            <IconOffOverlay\r\n              className=\"absolute text-red-600 opacity-85\"\r\n              size={35}\r\n            />\r\n            <IconExclude size={35} />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThreeOptionStateComponent;\r\n", "import { createCookieSessionStorage, redirect } from \"@remix-run/node\";\r\n\r\nconst SESSION_SECRET = process.env.SESSION_SECRET;\r\nif (!SESSION_SECRET) {\r\n  throw new Error(\"Session Secret not set\");\r\n}\r\n//-- Create object with session storage functions\r\nconst sessionStorage = createCookieSessionStorage({\r\n  cookie: {\r\n    // set to true for production, else false\r\n    secure: process.env.NODE_ENV === \"production\",\r\n    secrets: [SESSION_SECRET],\r\n    sameSite: \"lax\",\r\n    maxAge: 30 * 24 * 60 * 60, // 30 days\r\n    httpOnly: true, // client side js code can't access cookie\r\n  },\r\n});\r\n\r\n//-------------------------------------\r\n//-- Get the userId from the session cookie IF logged in\r\n//-------------------------------------\r\nexport async function getUserFromSession(request: Request) {\r\n  // Check for a session cookie and extract the userId from it\r\n  // NOTE: we added the userId to the session cookie in createUserSession()\r\n  const session = await sessionStorage.getSession(\r\n    request.headers.get(\"Cookie\")\r\n  );\r\n\r\n  const userId = session.get(\"userId\");\r\n\r\n  // if there is no userId, then we are not authenticated\r\n  // if (!userId) {\r\n  //   throw redirect(\"/\");\r\n  // }\r\n\r\n  return userId;\r\n}\r\n\r\n//-------------------------------------\r\n//-- Check for user session (logged in user)\r\n//-- If not logged in throw redirect which redirects\r\n//-- and stops further execution of loader\r\n//-------------------------------------\r\nexport async function requireUserSession(request: Request) {\r\n  const userId = await getUserFromSession(request);\r\n\r\n  if (!userId) {\r\n    throw redirect(\"/login\");\r\n  }\r\n\r\n  return userId;\r\n}\r\n//-------------------------------------\r\n//-- Destroy session cookie (clear it) on log out\r\n//-------------------------------------\r\nexport async function destroyUserSession(request: Request) {\r\n  const session = await sessionStorage.getSession(\r\n    request.headers.get(\"Cookie\")\r\n  );\r\n  console.log(\"DESTORY\", session.get(\"userId\"));\r\n  return redirect(\"/\", {\r\n    headers: {\r\n      \"Set-Cookie\": await sessionStorage.destroySession(session),\r\n    },\r\n  });\r\n}\r\n\r\n//-------------------------------------\r\n//-- LOGIN/Signup - Create a new user session cookie\r\n//-------------------------------------\r\nexport async function createUserSession(userId: string, redirectPath: string) {\r\n  const session = await sessionStorage.getSession();\r\n  session.set(\"userId\", userId);\r\n  return redirect(redirectPath, {\r\n    headers: {\r\n      \"Set-Cookie\": await sessionStorage.commitSession(session),\r\n    },\r\n  });\r\n}\r\n", "import { useNavigate } from \"@remix-run/react\";\r\n\r\ntype Props = {\r\n  prevURL: string;\r\n  nextURL: string;\r\n  totalPages: number;\r\n  currentPage: number;\r\n};\r\nfunction BookPagination({ prevURL, nextURL, totalPages, currentPage }: Props) {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <div className=\"flex\">\r\n      <div className=\"flex bg-white items-center space-x-2 border border-cerulean-blue-300 justify-start rounded-lg\">\r\n        <button\r\n          disabled={prevURL ? false : true}\r\n          className={`button border-0 border-r-cerulean-blue-300 border-r rounded-r-none ${\r\n            !prevURL && \"disabled\"\r\n          }`}\r\n          onClick={() => navigate(prevURL, { replace: true })}\r\n        >\r\n          Prev\r\n        </button>\r\n        <div className=\"text-lg\">\r\n          {currentPage} of {totalPages}\r\n        </div>\r\n        <button\r\n          disabled={nextURL ? false : true}\r\n          className={`button rounded-l-none ${!nextURL && \"disabled\"}`}\r\n          onClick={() => navigate(nextURL, { replace: true })}\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookPagination;\r\n", "export const isEmpty = (value: any) => {\r\n  return value == null;\r\n};\r\n\r\nexport const parseBooleanFromString = (value: string | null | undefined) => {\r\n  return value?.trim() === \"true\";\r\n};\r\n", "type Pagination = {\r\n  pageSize?: number;\r\n  offset?: number;\r\n};\r\n\r\ntype PaginationOut = {\r\n  prevOffset: number;\r\n  nextOffset: number;\r\n  prevAvailable: boolean;\r\n  nextAvailable: boolean;\r\n  totalPages: number;\r\n  currentPage: number;\r\n  totalBooks: number;\r\n};\r\n\r\n//---------------------------\r\n//---------------------------\r\nexport function calculateOffsets(\r\n  offset: number,\r\n  pageSize: number,\r\n  totalRecords: number\r\n): PaginationOut {\r\n  // calc previous offset, can't be less than zero\r\n  let prevOffset = offset - pageSize;\r\n  let nextAvailable = true;\r\n  let prevAvailable = true;\r\n  if (prevOffset < 0) {\r\n    prevOffset = 0;\r\n    prevAvailable = false;\r\n  }\r\n\r\n  // calc next offset, can't be greater than total records\r\n  let nextOffset = offset + pageSize;\r\n  if (nextOffset >= totalRecords) {\r\n    nextOffset = offset;\r\n    nextAvailable = false;\r\n  }\r\n\r\n  return { prevOffset, nextOffset, prevAvailable, nextAvailable };\r\n}\r\n", "import { UserBooks } from \"@prisma/client\";\r\nimport { Book, QueryBookwUserBook, UserBookData } from \"~/types/bookTypes\";\r\nimport { prisma } from \"./prisma.server\";\r\nimport {\r\n  BookFilter,\r\n  Pagination,\r\n  PaginationOut,\r\n  SortDirections,\r\n  SortFields,\r\n  SortOptions,\r\n} from \"../types/bookTypes\";\r\nimport metadata from \"../../bookMetadata.json\";\r\nimport { isEmpty } from \"~/utils/helpers\";\r\nimport { calculateOffsets } from \"~/utils/pagination\";\r\nimport _ from \"lodash\";\r\nimport { ThreeOptionState } from \"~/components/searchBar/SearchBarForm\";\r\n\r\nexport async function getAllAudiobooksDB(userId: string) {\r\n  // const books = await prisma.userBooks.findMany({\r\n  //   where: {\r\n  //     AND: [\r\n  //       { userId, favorite: true },\r\n  //       { books: { title: { contains: \"season\", mode: \"insensitive\" } } },\r\n  //     ],\r\n  //   },\r\n\r\n  //   include: {\r\n  //     books: {\r\n  //       select: {\r\n  //         author: true,\r\n  //         title: true,\r\n  //       },\r\n  //     },\r\n  //   },\r\n  // });\r\n\r\n  const books = await prisma.books.findMany({\r\n    where: {\r\n      author: {\r\n        contains: \"\",\r\n        mode: \"insensitive\",\r\n      },\r\n      title: {\r\n        contains: \"multi\",\r\n        mode: \"insensitive\",\r\n      },\r\n      // primaryCategory: {\r\n      //   equals: \"fiction\",\r\n      //   mode: \"insensitive\",\r\n      // },\r\n      // secondaryCategory: {\r\n      //   equals: \"horror\",\r\n      //   mode: \"insensitive\",\r\n      // },\r\n    },\r\n    include: {\r\n      userBooks: {\r\n        where: {\r\n          userId,\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\n  //~ -------------------------------------------------\r\n  //~ Flatten UserBooks data\r\n  let mergedBooks: Book[] & { userBooks: UserBooks[] } = [];\r\n  // Loop through books and if it contains userBooks, then merge the data\r\n  // assumption is that there will be either zero or one item in the array per user.\r\n  mergedBooks = books.map((book) => {\r\n    let mergedBook: Book = { ...book };\r\n    delete mergedBook.userBooks;\r\n\r\n    if (book.userBooks.length === 1) {\r\n      mergedBook = {\r\n        ...mergedBook,\r\n        favorite: book.userBooks[0].favorite,\r\n        listenedTo: book.userBooks[0].listenedTo,\r\n        comments: book.userBooks[0].comments,\r\n        rating: book.userBooks[0].rating,\r\n      };\r\n    }\r\n    return mergedBook;\r\n  });\r\n  //~ -------------------------------------------------\r\n  // // userBooksData?.UserBooks.map(book => book.id)\r\n  // if (userBooksData) {\r\n  //   for (let bookData of userBooksData) {\r\n  //     const index = books.findIndex((book) => book.id === bookData.bookId);\r\n  //     books[index] = {\r\n  //       ...books[index],\r\n  //       rating: bookData?.rating,\r\n  //       favorite: bookData?.favorite,\r\n  //       listenedTo: bookData?.listenedTo,\r\n  //       listenedToDate: bookData?.listenedToDate,\r\n  //       comments: bookData?.comments,\r\n  //     };\r\n  //   }\r\n  // }\r\n  return mergedBooks;\r\n}\r\n\r\n//~ -- -- -- -- -- -- -- -- --- -- -- -- --\r\n//~ Filter Books Data\r\n//~ -- -- -- -- -- -- -- -- --- -- -- -- --\r\nexport const filterBooksDB = async (\r\n  userId: string,\r\n  filter: BookFilter,\r\n  sort: SortOptions,\r\n  pagination: Pagination\r\n) => {\r\n  // console.log(\"SORT OPTS\", sort);\r\n  const pageSize = pagination?.pageSize || 15;\r\n  const offset = pagination?.offset || 0;\r\n\r\n  const whereStatements = processFilters(filter);\r\n\r\n  const dbBooks = await prisma.books.findMany({\r\n    where: {\r\n      ...whereStatements.bookWhere,\r\n    },\r\n    include: {\r\n      userBooks: {\r\n        where: {\r\n          userId,\r\n        },\r\n        select: {\r\n          favorite: true,\r\n          listenedTo: true,\r\n          comments: true,\r\n          rating: true,\r\n        },\r\n      },\r\n    },\r\n    orderBy: {\r\n      [sort.sortField || \"publishedYear\"]: sort.sortDirection || \"desc\",\r\n    },\r\n  });\r\n\r\n  // Merge and filter on UserBooks filters\r\n  let books = mergeAndFilterBooks(dbBooks, whereStatements.userBooksFilter);\r\n\r\n  //-- Helper function for rate sorting\r\n  function reverseRating(ratingIn: number): number {\r\n    if (ratingIn === 0) return 11;\r\n    return Math.abs(ratingIn - 11);\r\n  }\r\n\r\n  // Check for a rating sorting flag  -> \"off\" | \"asc\" | \"desc\"\r\n  if (sort.ratingSortDirection === \"asc\") {\r\n    books = _.sortBy(books, [(el) => el.rating || 0]);\r\n  } else if (sort.ratingSortDirection === \"desc\") {\r\n    // Would normally reverse the the sort from above, but we are sorting\r\n    // the rating independent of the other sort.  So while reversing would\r\n    // sort the ratings properly, the titles would be sorted opposite of what\r\n    // was chose.\r\n    // Instead I just flip the rating so that 10 = 1, 9 = 2, etc.\r\n    books = _.sortBy(books, [(el) => reverseRating(el.rating || 0)]);\r\n  }\r\n\r\n  const paginationOut = calculateOffsets(offset, pageSize, books.length);\r\n  paginationOut.totalPages = Math.ceil(books.length / pageSize);\r\n  paginationOut.currentPage = Math.ceil(offset / pageSize) + 1;\r\n  paginationOut.totalBooks = books.length;\r\n\r\n  const slicedBooks = books.slice(offset, offset + pageSize);\r\n  // console.log(\r\n  //   \"Prev and Next Offset\",\r\n  //   paginationOut.prevOffset,\r\n  //   paginationOut.nextOffset,\r\n  //   slicedBooks.length\r\n  // );\r\n\r\n  return { slicedBooks, paginationOut };\r\n};\r\n//~ -- -- -- -- -- -- -- -- --- -- -- -- --\r\n//~ Process passed filters and return\r\n//~ Where Statements\r\n//~ -- -- -- -- -- -- -- -- --- -- -- -- --\r\nfunction processFilters(filters: Record<string, any>) {\r\n  // Take raw filters object and pull out Book filters and UserBook filters\r\n  // remove nulls and add proper comparison operators\r\n  //\r\n  let {\r\n    author,\r\n    title,\r\n    primaryCategory,\r\n    secondaryCategory,\r\n    source,\r\n    favoriteFlag,\r\n    listenedToFlag,\r\n  } = filters;\r\n\r\n  // -- BUILD BOOK WHERE\r\n  // -- The buildWhereStmt function will determine if values are undefined\r\n  const bookFilters = {\r\n    author: {\r\n      type: \"contains\",\r\n      value: author,\r\n    },\r\n    title: {\r\n      type: \"contains\",\r\n      value: title,\r\n    },\r\n    primaryCategory: {\r\n      type: \"equals\",\r\n      value: primaryCategory,\r\n    },\r\n    secondaryCategory: {\r\n      type: \"equals\",\r\n      value: secondaryCategory,\r\n    },\r\n    source: {\r\n      type: \"equals\",\r\n      value: source,\r\n    },\r\n  };\r\n\r\n  const bookWhere = buildWhereStmt(bookFilters);\r\n  // console.log(\"passed filters\", filters);\r\n  // console.log(\"where built\", bookWhere);\r\n  // -- BUILD USERBOOKS FILTER Info\r\n  // -- We will process UserBooks filters via Javascript\r\n  // -- The return values will clean up passed values\r\n  const userBooksFilter = {\r\n    favorite: favoriteFlag,\r\n    listenedTo: listenedToFlag,\r\n  };\r\n  // const userBookWhere = buildWhereStmt(userBooksFilter);\r\n\r\n  return { bookWhere, userBooksFilter };\r\n}\r\n\r\n//~ -- -- -- -- -- -- -- -- --- -- -- -- --\r\n//~ Create Where Statment\r\n//~ -- -- -- -- -- -- -- -- --- -- -- -- --\r\ntype ProcessedFilter = Record<string, { type: string; value: any }>;\r\nfunction buildWhereStmt(processedFilters: ProcessedFilter) {\r\n  let whereStmt = {};\r\n\r\n  for (const [key, value] of Object.entries(processedFilters)) {\r\n    // Check if filter is null, undefined, or empty\r\n    if (\r\n      isEmpty(processedFilters[key].value) ||\r\n      processedFilters[key].value === \"\" ||\r\n      !processedFilters[key]\r\n    )\r\n      continue;\r\n\r\n    whereStmt = {\r\n      ...whereStmt,\r\n      [key]: { [value.type]: value.value, mode: \"insensitive\" },\r\n    };\r\n  }\r\n  return whereStmt;\r\n}\r\n\r\n//~ -- -- -- -- -- -- -- -- --- -- -- -- --\r\n//~ Upsert UserBooks Data\r\n//~ -- -- -- -- -- -- -- -- --- -- -- -- --\r\nexport const updateUserBooksDB = async (\r\n  userId: string,\r\n  bookId: string,\r\n  userBookData: UserBookData\r\n) => {\r\n  const booksId = bookId;\r\n\r\n  //-- --- --- ----\r\n  //- Upsert passed userBookData\r\n  //- Every user can have one record in userBooks for each book\r\n  const newUserBook = await prisma.userBooks.upsert({\r\n    where: {\r\n      booksId_userId: { booksId, userId },\r\n    },\r\n    create: {\r\n      booksId,\r\n      userId,\r\n      ...userBookData,\r\n    },\r\n    update: userBookData,\r\n  });\r\n\r\n  return newUserBook;\r\n};\r\n\r\n//~ -------------------------------------------------\r\n//~ Filter books based on favorite and listenedTo states\r\n//~ Any returned books will have their userBookObject data\r\n//~ flattened so it matches Book type\r\n//~ -------------------------------------------------\r\nfunction mergeAndFilterBooks(\r\n  books: QueryBookwUserBook[],\r\n  userBooksFilter: {\r\n    favorite: ThreeOptionState;\r\n    listenedTo: ThreeOptionState;\r\n  }\r\n) {\r\n  let mergedBooks: Book[] = [];\r\n  const { favorite: favoriteState, listenedTo: listenedToState } =\r\n    userBooksFilter;\r\n  //-- Loop through books and filter based on passed favorite and\r\n  //-- listenedTo states.\r\n  for (const book of books) {\r\n    const userBookObject =\r\n      book?.userBooks?.length === 1 ? book.userBooks[0] : undefined;\r\n\r\n    // ListenedTo Check include, exclude or off state\r\n    const bookListenedToState = !!userBookObject?.listenedTo;\r\n    if (!includeBookThreeOptionCheck(bookListenedToState, listenedToState)) {\r\n      continue;\r\n    }\r\n\r\n    // Favorite Check include, exclude or off state\r\n    const bookFavoriteState = !!userBookObject?.favorite;\r\n    if (!includeBookThreeOptionCheck(bookFavoriteState, favoriteState)) {\r\n      continue;\r\n    }\r\n\r\n    let buildMerge = {\r\n      favorite: userBookObject?.favorite,\r\n      listenedTo: userBookObject?.listenedTo,\r\n      comments: userBookObject?.comments,\r\n      rating: userBookObject?.rating,\r\n    };\r\n    delete book.userBooks;\r\n    mergedBooks.push({ ...book, ...buildMerge });\r\n  }\r\n  //-- Loop end\r\n\r\n  return mergedBooks;\r\n}\r\n\r\nconst includeBookThreeOptionCheck = (\r\n  bookState: boolean,\r\n  filterState: ThreeOptionState | undefined\r\n) => {\r\n  // if filterState is off or undefined\r\n  //! Return true means that this book SHOULD be included in results\r\n  //! Return false means that this book should NOT be include in results\r\n  /**\r\n   * bookState = false - filterState = undefined - true\r\n   * bookState = false - filterState = off       - true\r\n   * bookState = false - filterState = include   - false\r\n   * bookState = false - filterState = exclude   - true\r\n   \r\n   * bookState = true - filterState = undefined - true\r\n   * bookState = true - filterState = off       - true\r\n   * bookState = true - filterState = include   - true\r\n   * bookState = true - filterState = exclude   - false\r\n   */\r\n\r\n  if (!bookState) {\r\n    if (filterState === \"include\") {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  if (filterState === \"exclude\") {\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n};\r\n", "import { ActionFunction, json } from \"@remix-run/node\";\r\nimport { destroyUserSession } from \"~/data/session.sever\";\r\n\r\nexport const action: ActionFunction = async ({ request }) => {\r\n  if (request.method !== \"POST\") {\r\n    throw json({ message: \"Invalid request on Logout\" }, { status: 400 });\r\n  }\r\n  return await destroyUserSession(request);\r\n};\r\n", "import { LoaderFunction, redirect } from \"@remix-run/node\";\r\nimport { Outlet } from \"@remix-run/react\";\r\nimport AuthHeader from \"~/components/Auth/AuthHeader\";\r\nimport { getUserFromSession, requireUserSession } from \"~/data/session.sever\";\r\n\r\n// import { getUserFromSession } from \"~/data/auth.server\";\r\n\r\nexport default function AuthLayout() {\r\n  return (\r\n    <div className=\"flex flex-col bg-emerald-200 h-screen w-full \">\r\n      <AuthHeader />\r\n      <Outlet />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const loader: LoaderFunction = async ({ request }) => {\r\n  return (await getUserFromSession(request)) ? redirect(\"/audiobooks\") : null;\r\n};\r\n\r\n// export function links() {\r\n//   return [\r\n//     {\r\n//       rel: \"stylesheet\",\r\n//       href: styles,\r\n//     },\r\n//   ];\r\n// }\r\n", "import { unstable_composeUploadHandlers } from \"@remix-run/node\";\r\nimport { Link, useLocation } from \"@remix-run/react\";\r\nimport React from \"react\";\r\n\r\nfunction AuthHeader() {\r\n  const location = useLocation();\r\n  // You can find the current path by using the location.pathname key\r\n  // Since this is the auth header, if there is a userID (get from loaderData)\r\n  // then redirect to main location\r\n\r\n  // console.log(\"loc\", location.pathname);\r\n  const isLoginPage = location.pathname === \"/login\";\r\n  return (\r\n    <nav className=\"bg-emerald-500 p-3 flex text-3xl space-x-4\">\r\n      <h1 className=\"\">Audiobook Tracker</h1>\r\n      {isLoginPage && (\r\n        <Link to=\"/signup\" className=\"underline text-green-900\">\r\n          SignUp\r\n        </Link>\r\n      )}\r\n      {isLoginPage || (\r\n        <Link to=\"/login\" className=\"underline text-green-900\">\r\n          Login\r\n        </Link>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default AuthHeader;\r\n", "import { Form, useActionData } from \"@remix-run/react\";\r\nimport { useState, useReducer } from \"react\";\r\nimport { json, ActionFunction } from \"@remix-run/node\";\r\nimport { signup, RegisterServerErrors } from \"~/data/auth.server\";\r\nimport { authFormValidation } from \"~/utils/validation\";\r\nimport type { AuthFormData } from \"~/types/authTypes\";\r\nimport InputField from \"~/components/input/InputField\";\r\n\r\n//-------------------------------------------------\r\n//-- Action Error Type\r\n//-- Union errors type from server and validation error types\r\n// -------------------------------------------------\r\nexport type ActionErrors =\r\n  | RegisterServerErrors\r\n  | {\r\n      name: \"Validation Errors\";\r\n      email?: string;\r\n      password?: string;\r\n    };\r\n\r\n//-------------------------------------------------\r\n//-- Action Function\r\n// -------------------------------------------------\r\nexport const action: ActionFunction = async ({ request }) => {\r\n  // standard request object has our formData object on it\r\n  const formData = await request.formData();\r\n  const formFields = Object.fromEntries(formData) as AuthFormData;\r\n\r\n  // Local validation\r\n  const validationErrors = authFormValidation({\r\n    email: formFields.email,\r\n    password: formFields.password,\r\n  });\r\n\r\n  if (validationErrors) {\r\n    return json({\r\n      name: \"Validation Errors\",\r\n      email: validationErrors.email?._errors.join(\"-\"),\r\n      password: validationErrors.password?._errors.join(\"-\"),\r\n    });\r\n  }\r\n\r\n  try {\r\n    // Sign up / Register to the service\r\n    await signup({ email: formFields.email, password: formFields.password });\r\n  } catch (error) {\r\n    if (error instanceof Error) {\r\n      let errorObj = error as RegisterServerErrors;\r\n      if (errorObj.name === \"Email Exists\") return json(error);\r\n    }\r\n    throw new Error(String(error));\r\n  }\r\n  return null;\r\n};\r\n\r\n//-------------------------------------------------\r\n//-- SignUp COMPONENT\r\n// -------------------------------------------------\r\nexport const Signup = () => {\r\n  const [pwVisible, togglePwVisible] = useReducer((state) => {\r\n    return !state;\r\n  }, false);\r\n\r\n  const actionData = useActionData<ActionErrors>();\r\n  console.log(\"actionData\", actionData);\r\n  return (\r\n    <div className=\"flex flex-col flex-grow border border-black justify-center items-center\">\r\n      <h1 className=\"text-3xl mb-4\">Register for Audiobook Tracker</h1>\r\n      {actionData?.name === \"Email Exists\" && <div>{actionData.message}</div>}\r\n      <Form\r\n        method=\"post\"\r\n        className=\"flex flex-col rounded-lg p-6 w-96 bg-gray-400\"\r\n      >\r\n        <InputField\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          type=\"text\"\r\n          error={\r\n            actionData?.name === \"Validation Errors\"\r\n              ? actionData?.email\r\n              : undefined\r\n          }\r\n        />\r\n        <InputField\r\n          label=\"Password\"\r\n          name=\"password\"\r\n          type=\"passwordWpeek\"\r\n          error={\r\n            actionData?.name === \"Validation Errors\"\r\n              ? actionData?.password\r\n              : undefined\r\n          }\r\n        />\r\n\r\n        <div className=\"w-full text-center\">\r\n          <button\r\n            type=\"submit\"\r\n            name=\"button\"\r\n            value=\"signup\"\r\n            className=\"rounded-lg bg-emerald-800 px-3 py-2 text-xl text-white\"\r\n          >\r\n            Sign Up\r\n          </button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n", "import { prisma } from \"./prisma.server\";\r\nimport { hash, compare } from \"bcryptjs\";\r\nimport { createUserSession } from \"./session.sever\";\r\nimport { LoginServerErrors } from \"~/types/authTypes\";\r\nexport type SignupData = {\r\n  email: string;\r\n  password: string;\r\n};\r\n\r\n// const SESSION_SECRET = process.env.SESSION_SECRET;\r\n// if (!SESSION_SECRET) {\r\n//   throw new Error(\"Session Secret not set\");\r\n// }\r\n\r\n// //-- Create object with session storage functions\r\n// const sessionStorage = createCookieSessionStorage({\r\n//   cookie: {\r\n//     // set to true for production, else false\r\n//     secure: process.env.NODE_ENV === \"production\",\r\n//     secrets: [SESSION_SECRET],\r\n//     sameSite: \"lax\",\r\n//     maxAge: 30 * 24 * 60 * 60, // 30 days\r\n//     httpOnly: true, // client side js code can't access cookie\r\n//   },\r\n// });\r\n\r\n// //-------------------------------------\r\n// //-- LOGIN/Signup - Create a new user session cookie\r\n// //-------------------------------------\r\n// async function createUserSession(userId: string, redirectPath: string) {\r\n//   const session = await sessionStorage.getSession();\r\n//   session.set(\"userId\", userId);\r\n//   return redirect(redirectPath, {\r\n//     headers: {\r\n//       \"Set-Cookie\": await sessionStorage.commitSession(session),\r\n//     },\r\n//   });\r\n// }\r\n\r\n// export const signup = async (form: SignupData) => {\r\n//   const exists = await prisma.user.count({ where: { email: form.email } });\r\n//   if (exists) {\r\n//     return json(\r\n//       {\r\n//         error: \"user already exists with that email\",\r\n//       },\r\n//       { status: 400 }\r\n//     );\r\n//   }\r\n// };\r\n\r\n//-------------------------------------\r\n//-- SIGN UP\r\n//-------------------------------------\r\nexport type RegisterServerErrors = {\r\n  name: \"Email Exists\";\r\n  message: string;\r\n};\r\nexport async function signup({ email, password }: SignupData) {\r\n  const exsitingUser = await prisma.user.count({ where: { email } });\r\n  // throw \"crazy error\";\r\n  // If the user already exists, throw an error indicating such\r\n  if (exsitingUser) {\r\n    const error = new Error() as RegisterServerErrors;\r\n    error.message = `User with email address ${email} already exists.`;\r\n    error.name = \"Email Exists\";\r\n    throw error;\r\n  }\r\n\r\n  const passwordHash = await hash(password, 12);\r\n\r\n  const user = await prisma.user.create({\r\n    data: { email: email, password: passwordHash },\r\n  });\r\n  return createUserSession(user.id, \"/audiobooks\");\r\n}\r\n\r\n//-------------------------------------\r\n//-- LOGIN\r\n//-------------------------------------\r\n\r\nexport async function login({ email, password }: SignupData) {\r\n  // Find the user in the database\r\n  const exsitingUser = await prisma.user.findFirst({ where: { email } });\r\n\r\n  if (!exsitingUser) {\r\n    const error = new Error() as LoginServerErrors;\r\n    error.message = `User with email address ${email} not found.`;\r\n    error.name = \"Server Login Error\";\r\n    throw error;\r\n  }\r\n\r\n  const isPasswordMatch = compare(password, exsitingUser.password);\r\n  if (!isPasswordMatch) {\r\n    const error = new Error() as LoginServerErrors;\r\n    error.message = `Password Incorrect.`;\r\n    error.name = \"Server Login Error\";\r\n    throw error;\r\n  }\r\n\r\n  return createUserSession(exsitingUser.id, \"/audiobooks\");\r\n}\r\n", "import { z } from \"zod\";\r\n\r\nconst AuthFormValues = z.object({\r\n  email: z.string().email(),\r\n  password: z\r\n    .string()\r\n    .min(5, { message: \"Password must be at least 5 chars\" })\r\n    .max(15),\r\n});\r\n\r\ntype AuthFormValues = z.infer<typeof AuthFormValues>;\r\n\r\nexport const authFormValidation = ({ email, password }: AuthFormValues) => {\r\n  const authResults = AuthFormValues.safeParse({ email, password });\r\n  if (!authResults.success) {\r\n    const errorResults = authResults.error.format();\r\n    return errorResults;\r\n  }\r\n  return undefined;\r\n};\r\n", "import { useState } from \"react\";\r\n\r\ntype Props = {\r\n  name: string;\r\n  type: \"text\" | \"password\" | \"passwordWpeek\";\r\n  onChange?: (...args: any) => any;\r\n  value?: string;\r\n  label: string;\r\n  error?: string;\r\n};\r\n\r\nconst initType = (type) => (type === \"passwordWpeek\" ? \"password\" : type);\r\nfunction InputField({ name, type, onChange, value, label, error }: Props) {\r\n  const controlledProps = onChange ? { onChange, value } : {};\r\n\r\n  const [currType, setCurrType] = useState(initType(type));\r\n\r\n  const peekPasswordToggle = () =>\r\n    setCurrType((state) => (state === \"password\" ? \"text\" : \"password\"));\r\n\r\n  return (\r\n    <div>\r\n      <label htmlFor={name}>{label}</label>\r\n      <div className=\"flex items-center space-x-2\">\r\n        <input\r\n          id={name}\r\n          name={name}\r\n          type={currType}\r\n          className=\"w-full p-2 rounded-lg my-2\"\r\n          {...controlledProps}\r\n        />\r\n        {type === \"passwordWpeek\" && (\r\n          <div\r\n            onMouseDown={peekPasswordToggle}\r\n            onMouseUp={peekPasswordToggle}\r\n            className=\"cursor-pointer p-2 border border-black bg-gray-200 rounded-lg\"\r\n          >\r\n            Peek\r\n          </div>\r\n        )}\r\n      </div>\r\n      {error && <div>{error}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InputField;\r\n", "import { redirect } from \"@remix-run/node\";\r\nexport async function loader({ request }: { request: Request }) {\r\n  return redirect(\"/login\");\r\n}\r\n", "import { ActionFunction, json } from \"@remix-run/node\";\r\nimport { Form, useActionData } from \"@remix-run/react\";\r\nimport React from \"react\";\r\nimport InputField from \"~/components/input/InputField\";\r\nimport { login, signup, SignupData } from \"~/data/auth.server\";\r\nimport { authFormValidation } from \"~/utils/validation\";\r\nimport type { AuthFormData, LoginServerErrors } from \"~/types/authTypes\";\r\n\r\n//-------------------------------------------------\r\n//-- Action Error Type\r\n//-- Union errors type from server and validation error types\r\n// -------------------------------------------------\r\nexport type ActionErrors =\r\n  | LoginServerErrors\r\n  | {\r\n      name: \"Validation Errors\";\r\n      email?: string;\r\n      password?: string;\r\n    };\r\n\r\n//---------------------------------\r\n//-- Action for Login\r\n//---------------------------------\r\nexport const action: ActionFunction = async ({ request }) => {\r\n  const formData = await request.formData();\r\n  const { email, password } = Object.fromEntries(formData) as AuthFormData;\r\n  // Validate email and password (we won't use password validation)\r\n  const validationErrors = authFormValidation({ email, password });\r\n  if (validationErrors?.email) {\r\n    return json({\r\n      name: \"Validation Errors\",\r\n      email: validationErrors.email?._errors.join(\"-\"),\r\n    });\r\n  }\r\n\r\n  try {\r\n    return await login({ email, password });\r\n  } catch (error) {\r\n    if (error instanceof Error) {\r\n      let errorObj = error as LoginServerErrors;\r\n      if (errorObj.name === \"Server Login Error\") return json(error);\r\n    }\r\n    throw new Error(String(error));\r\n  }\r\n};\r\n\r\nfunction Login() {\r\n  const actionData = useActionData<ActionErrors>();\r\n\r\n  return (\r\n    <div className=\"flex flex-col flex-grow border border-black justify-center items-center\">\r\n      <h1 className=\"text-3xl mb-4\">Audiobook Tracker Login</h1>\r\n      <Form\r\n        method=\"post\"\r\n        className=\"flex flex-col rounded-lg p-6 w-96 bg-gray-400\"\r\n      >\r\n        {actionData?.name === \"Server Login Error\" && (\r\n          <div>{actionData.message}</div>\r\n        )}\r\n        <InputField\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          type=\"text\"\r\n          error={\r\n            actionData?.name === \"Validation Errors\"\r\n              ? actionData?.email\r\n              : undefined\r\n          }\r\n        />\r\n        <InputField\r\n          label=\"Password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          error={\r\n            actionData?.name === \"Validation Errors\"\r\n              ? actionData?.password\r\n              : undefined\r\n          }\r\n        />\r\n        <div className=\"w-full text-center\">\r\n          <button\r\n            type=\"submit\"\r\n            name=\"button\"\r\n            value=\"login\"\r\n            className=\"rounded-lg bg-emerald-800 px-3 py-2 text-xl text-white\"\r\n          >\r\n            Sign In\r\n          </button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n", "import { json, LoaderFunction } from \"@remix-run/node\";\r\n\r\nexport const loader: LoaderFunction = () => {\r\n  console.log(\"INIT Functino\");\r\n  return json({\r\n    initShit: \"Yes It is\",\r\n  });\r\n};\r\n", "export default {'version':'1060f458','entry':{'module':'/build/entry.client-EU4QLAAT.js','imports':['/build/_shared/chunk-IK7OUPWO.js','/build/_shared/chunk-VIPVJV6J.js','/build/_shared/chunk-5KL4PAQL.js']},'routes':{'root':{'id':'root','parentId':undefined,'path':'','index':undefined,'caseSensitive':undefined,'module':'/build/root-B5KNFPHD.js','imports':undefined,'hasAction':false,'hasLoader':true,'hasCatchBoundary':true,'hasErrorBoundary':true},'routes/__auth':{'id':'routes/__auth','parentId':'root','path':undefined,'index':undefined,'caseSensitive':undefined,'module':'/build/routes/__auth-2QY5MCPV.js','imports':undefined,'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__auth/index':{'id':'routes/__auth/index','parentId':'routes/__auth','path':undefined,'index':true,'caseSensitive':undefined,'module':'/build/routes/__auth/index-ALM4RXXM.js','imports':undefined,'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__auth/login':{'id':'routes/__auth/login','parentId':'routes/__auth','path':'login','index':undefined,'caseSensitive':undefined,'module':'/build/routes/__auth/login-3PQDFYD6.js','imports':['/build/_shared/chunk-IJNW62BP.js'],'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/__auth/signup':{'id':'routes/__auth/signup','parentId':'routes/__auth','path':'signup','index':undefined,'caseSensitive':undefined,'module':'/build/routes/__auth/signup-AQIJ7UZ4.js','imports':['/build/_shared/chunk-IJNW62BP.js'],'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/audiobooks':{'id':'routes/audiobooks','parentId':'root','path':'audiobooks','index':undefined,'caseSensitive':undefined,'module':'/build/routes/audiobooks-VDXOKFTZ.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/audiobooks/$bookId':{'id':'routes/audiobooks/$bookId','parentId':'routes/audiobooks','path':':bookId','index':undefined,'caseSensitive':undefined,'module':'/build/routes/audiobooks/$bookId-7CB4C2S3.js','imports':undefined,'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/audiobooks/$bookId/edit':{'id':'routes/audiobooks/$bookId/edit','parentId':'routes/audiobooks/$bookId','path':'edit','index':undefined,'caseSensitive':undefined,'module':'/build/routes/audiobooks/$bookId/edit-2XOA2KYX.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/audiobooks/$bookId/edit.subEdit':{'id':'routes/audiobooks/$bookId/edit.subEdit','parentId':'routes/audiobooks/$bookId','path':'edit/subEdit','index':undefined,'caseSensitive':undefined,'module':'/build/routes/audiobooks/$bookId/edit.subEdit-JBXQQAQX.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/audiobooks/$bookId/index':{'id':'routes/audiobooks/$bookId/index','parentId':'routes/audiobooks/$bookId','path':undefined,'index':true,'caseSensitive':undefined,'module':'/build/routes/audiobooks/$bookId/index-XICAARCG.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/audiobooks/index':{'id':'routes/audiobooks/index','parentId':'routes/audiobooks','path':undefined,'index':true,'caseSensitive':undefined,'module':'/build/routes/audiobooks/index-Z7AIB2OH.js','imports':undefined,'hasAction':true,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/init':{'id':'routes/init','parentId':'root','path':'init','index':undefined,'caseSensitive':undefined,'module':'/build/routes/init-6PTUCPY5.js','imports':undefined,'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/logout':{'id':'routes/logout','parentId':'root','path':'logout','index':undefined,'caseSensitive':undefined,'module':'/build/routes/logout-54GW2W2K.js','imports':undefined,'hasAction':true,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false}},'url':'/build/manifest-1060F458.js'};", "\nimport * as entryServer from \"./entry.server.tsx\";\nimport * as route0 from \"./root.tsx\";\nimport * as route1 from \"./routes\\\\audiobooks.tsx\";\nimport * as route2 from \"./routes\\\\audiobooks\\\\$bookId.tsx\";\nimport * as route3 from \"./routes\\\\audiobooks\\\\$bookId\\\\edit.subEdit.tsx\";\nimport * as route4 from \"./routes\\\\audiobooks\\\\$bookId\\\\index.tsx\";\nimport * as route5 from \"./routes\\\\audiobooks\\\\$bookId\\\\edit.tsx\";\nimport * as route6 from \"./routes\\\\audiobooks\\\\index.tsx\";\nimport * as route7 from \"./routes\\\\logout.ts\";\nimport * as route8 from \"./routes\\\\__auth.tsx\";\nimport * as route9 from \"./routes\\\\__auth\\\\signup.tsx\";\nimport * as route10 from \"./routes\\\\__auth\\\\index.tsx\";\nimport * as route11 from \"./routes\\\\__auth\\\\login.tsx\";\nimport * as route12 from \"./routes\\\\init.ts\";\n  export { default as assets } from \"@remix-run/dev/assets-manifest\";\n  export const assetsBuildDirectory = \"public\\\\build\";\n  export const future = {\"v2_meta\":false};\n  export const publicPath = \"/build/\";\n  export const entry = { module: entryServer };\n  export const routes = {\n    \"root\": {\n      id: \"root\",\n      parentId: undefined,\n      path: \"\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route0\n    },\n  \"routes/audiobooks\": {\n      id: \"routes/audiobooks\",\n      parentId: \"root\",\n      path: \"audiobooks\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route1\n    },\n  \"routes/audiobooks/$bookId\": {\n      id: \"routes/audiobooks/$bookId\",\n      parentId: \"routes/audiobooks\",\n      path: \":bookId\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route2\n    },\n  \"routes/audiobooks/$bookId/edit.subEdit\": {\n      id: \"routes/audiobooks/$bookId/edit.subEdit\",\n      parentId: \"routes/audiobooks/$bookId\",\n      path: \"edit/subEdit\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route3\n    },\n  \"routes/audiobooks/$bookId/index\": {\n      id: \"routes/audiobooks/$bookId/index\",\n      parentId: \"routes/audiobooks/$bookId\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route4\n    },\n  \"routes/audiobooks/$bookId/edit\": {\n      id: \"routes/audiobooks/$bookId/edit\",\n      parentId: \"routes/audiobooks/$bookId\",\n      path: \"edit\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route5\n    },\n  \"routes/audiobooks/index\": {\n      id: \"routes/audiobooks/index\",\n      parentId: \"routes/audiobooks\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route6\n    },\n  \"routes/logout\": {\n      id: \"routes/logout\",\n      parentId: \"root\",\n      path: \"logout\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route7\n    },\n  \"routes/__auth\": {\n      id: \"routes/__auth\",\n      parentId: \"root\",\n      path: undefined,\n      index: undefined,\n      caseSensitive: undefined,\n      module: route8\n    },\n  \"routes/__auth/signup\": {\n      id: \"routes/__auth/signup\",\n      parentId: \"routes/__auth\",\n      path: \"signup\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route9\n    },\n  \"routes/__auth/index\": {\n      id: \"routes/__auth/index\",\n      parentId: \"routes/__auth\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route10\n    },\n  \"routes/__auth/login\": {\n      id: \"routes/__auth/login\",\n      parentId: \"routes/__auth\",\n      path: \"login\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route11\n    },\n  \"routes/init\": {\n      id: \"routes/init\",\n      parentId: \"root\",\n      path: \"init\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route12\n    }\n  };"],
  "mappings": "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",
  "names": ["import_react", "import_jsx_dev_runtime", "import_react", "import_react", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "loader", "import_react", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "bookId_exports", "import_react", "import_jsx_dev_runtime", "import_react", "import_jsx_dev_runtime", "audiobooks_exports", "loader", "import_react", "fs", "import_react", "import_jsx_dev_runtime", "import_react", "import_jsx_dev_runtime", "import_react", "import_jsx_dev_runtime", "BookListenedTo", "import_react", "import_react", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "import_react", "import_lodash", "import_ai", "import_bs", "import_react", "import_ai", "import_jsx_dev_runtime", "import_react", "import_jsx_dev_runtime", "action", "import_jsx_dev_runtime", "action", "_", "import_node", "import_react", "import_jsx_dev_runtime", "import_lodash", "_", "import_jsx_dev_runtime", "loader", "action", "import_node", "action", "loader", "import_node", "import_react", "import_react", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "loader", "action", "import_react", "import_node", "import_zod", "import_react", "import_jsx_dev_runtime", "import_jsx_dev_runtime", "action", "auth_exports", "loader", "import_node", "action", "import_node", "import_react", "import_jsx_dev_runtime", "action", "loader", "import_node", "bookId_exports", "audiobooks_exports", "auth_exports"]
}
